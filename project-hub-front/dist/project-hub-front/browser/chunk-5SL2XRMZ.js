import{a as tt,b as Le,c as it,d as ot}from"./chunk-Q7G7CF4L.js";import{a as nt,b as He,c as at,d as qe,e as st,f as lt,g as Qe,h as pt}from"./chunk-H7E2I7RY.js";import{a as oe,b as ne,c as ae,d as ue,e as ge,f as fe,g as he,h as ke}from"./chunk-7M4RS7ZH.js";import{a as ee,b as te,d as ie}from"./chunk-HKIRSCHN.js";import{b as Oe,c as re,d as rt,e as se,f as le,g as pe,h as me,i as ce,j as de,k as _e}from"./chunk-4NGDR7O5.js";import{c as et,d as U,e as z,f as X,g as Z,h as $}from"./chunk-T7MGDWGT.js";import{a as Ze,b as $e}from"./chunk-HQW5XNHR.js";import"./chunk-QXRNZP2L.js";import{b as be,c as Ce}from"./chunk-Y66WSUQK.js";import{Ja as G,Ka as K,P as w,Pa as Y,Qa as J,T as R,ea as O,ga as H,ja as q,pa as Q,qa as j,ua as A}from"./chunk-NB76KGKE.js";import{$ as m,Ab as _,Cb as g,Db as l,Jb as P,Kb as N,Lb as D,Lc as L,Ma as p,Ob as F,Pb as d,Qb as S,Ra as M,Rb as Be,Tb as h,U as I,Ub as k,Vb as b,Wb as B,Xb as T,Ya as W,aa as c,cb as x,hc as C,kb as f,nb as E,pb as v,qb as xe,sb as ye,tb as Te,u as Xe,ub as o,vb as i,wb as u}from"./chunk-U6KPTH7L.js";import{a as V,b as ze}from"./chunk-GAL4ENT6.js";var ut=["dt"],Ct=["ph"],mt=()=>({width:"450px"}),gt=()=>({"min-width":"75rem"}),ft=()=>[10,20,30];function ht(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(2);return c(t.openNew())}),i()}}function kt(r,n){}function bt(r,n){r&1&&(o(0,"div",8)(1,"p-toolbar",10),x(2,ht,1,0,"ng-template",null,2,C)(4,kt,0,0,"ng-template",null,3,C),i(),o(6,"span",11),d(7,"No phases found"),i()())}function xt(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",13),i())}function yt(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(3);return c(t.openNew())}),i()}}function Tt(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function St(r,n){if(r&1){let e=_();o(0,"div",16)(1,"h5",17),d(2,"Manage Phases"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",18),o(5,"input",19),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function wt(r,n){r&1&&(o(0,"tr")(1,"th",20),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",21)(4,"span",22),d(5,"ID "),u(6,"p-sortIcon",23),i()(),o(7,"th",24)(8,"span",22),d(9,"Name "),u(10,"p-sortIcon",25),i()(),o(11,"th",26)(12,"span",22),d(13,"Description "),u(14,"p-sortIcon",27),i()(),o(15,"th",28)(16,"span",22),d(17,"Order "),u(18,"p-sortIcon",29),i()(),u(19,"th",30),i())}function Rt(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",31),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td"),d(8),i(),o(9,"td"),d(10),i(),o(11,"td")(12,"p-button",32),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editPhase(t))}),i(),o(13,"p-button",33),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedPhases(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),S(e.description),p(2),S(e.order),p(2),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function vt(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",10),x(2,yt,1,0,"ng-template",null,2,C)(4,Tt,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoPhaseService.selectedPhases,t)||(s.repoPhaseService.selectedPhases=t),c(t)}),x(8,St,6,0,"ng-template",null,5,C)(10,wt,20,0,"ng-template",null,6,C)(12,Rt,14,9,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoPhaseService.allPhases())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,gt)),h("selection",e.repoPhaseService.selectedPhases),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,ft))}}function Et(r,n){if(r&1&&x(0,xt,2,0,"div",8)(1,vt,14,12,"div",8),r&2){let e=l();v(e.repoPhaseService.getAllPhasesResource.isLoading()==!0?0:1)}}function Mt(r,n){if(r&1){let e=_();o(0,"div",34)(1,"div",35)(2,"label",36),d(3,"Name"),i(),o(4,"input",37),b("ngModelChange",function(t){m(e);let s=l();return k(s.phase.name,t)||(s.phase.name=t),c(t)}),i()(),o(5,"div",35)(6,"label",38),d(7,"Description"),i(),o(8,"textarea",39),b("ngModelChange",function(t){m(e);let s=l();return k(s.phase.description,t)||(s.phase.description=t),c(t)}),i()(),o(9,"div",35)(10,"label",40),d(11,"Order"),i(),o(12,"p-inputNumber",41),b("ngModelChange",function(t){m(e);let s=l();return k(s.phase.order,t)||(s.phase.order=t),c(t)}),i()()()}if(r&2){let e=l();p(4),h("ngModel",e.phase.name),p(4),h("ngModel",e.phase.description),p(4),h("ngModel",e.phase.order)}}function Vt(r,n){if(r&1){let e=_();o(0,"p-button",42),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",43),g("click",function(){m(e);let t=l();return c(t.savePhase())}),i()}}var je=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoPhaseService=I(nt);filterColFields=["id","name","description","order"];phaseDialog=!1;phase;phaseSubmitted=!1;dt;ph;exportColumns;cols;exportCSV(){this.dt.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.phase={id:0,name:"",description:"",order:0},this.phaseSubmitted=!1,this.phaseDialog=!0}editPhase(n){this.phase=V({},n),this.repoPhaseService.selectedPhase.set(n),this.phaseDialog=!0}deleteSelectedPhases(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected phases?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoPhaseService.selectedPhases.set(this.repoPhaseService.selectedPhases().filter(e=>!this.repoPhaseService.selectedPhases().includes(e))),this.repoPhaseService.deletePhase(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Phases Deleted",life:3e3})}})}hideDialog(){this.phaseDialog=!1,this.phaseSubmitted=!1}findPhaseIndexById(n){let e=-1;for(let a=0;a<this.repoPhaseService.allPhases().length;a++)if(this.repoPhaseService.allPhases()[a].id===n){e=a;break}return e}createId(){let n="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}createPhaseId(n){this.repoPhaseService.createPhase(n)}getSeverity(n){switch(n){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"info"}}savePhase(){this.phaseSubmitted=!0;let n=this.repoPhaseService.allPhases();this.phase.name?.trim()&&(this.phase.id?(console.log(this.phase),n[this.findPhaseIndexById(this.phase.id)]=this.phase,this.repoPhaseService.selectedPhases.set([...n]),this.repoPhaseService.editPhase(this.phase.id,this.phase),this.messageService.add({severity:"success",summary:"Successful",detail:"Phase Updated",life:3e3})):(this.messageService.add({severity:"success",summary:"Successful",detail:"Phase Created",life:3e3}),this.repoPhaseService.createPhase(this.phase)),this.phaseDialog=!1,this.phase={id:0,name:"",description:"",order:0})}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-phases"]],viewQuery:function(e,a){if(e&1&&(P(ut,5),P(Ct,5)),e&2){let t;N(t=D())&&(a.dt=t.first),N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:8,vars:9,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Phase Details",3,"visibleChange","visible","modal"],["styleClass","mb-12"],[1,"text-center","text-lg","text-orange-500"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["width","full","height","10rem"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} phases",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","description",2,"min-width","30rem"],["field","description"],["pSortableColumn","order",2,"min-width","3rem"],["field","order"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["for","description",1,"block","font-bold","mb-4"],["rows","5","cols","30","pTextarea","","id","description","required","",3,"ngModelChange","ngModel"],["for","order",1,"block","font-bold","mb-4"],["id","order","required","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,a){if(e&1){let t=_();x(0,bt,8,0,"div",8)(1,Et,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.phaseDialog,y)||(a.phaseDialog=y),c(y)}),x(3,Mt,13,3,"ng-template",null,0,C)(5,Vt,2,0,"ng-template",null,1,C),i(),u(7,"p-confirmdialog")}e&2&&(v(a.repoPhaseService.allPhases().length==0?0:1),p(2),E(T(7,mt)),h("visible",a.phaseDialog),f("modal",!0),p(5),E(T(8,mt)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,be,se,U,re,Oe,te,ee,ue,$,Z,X,z,ne,oe,ke,he],encapsulation:2})};var It=["ph"],ct=()=>({width:"450px"}),Pt=()=>({"min-width":"75rem"}),Nt=()=>[10,20,30];function Dt(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(2);return c(t.openNew())}),i()}}function Wt(r,n){}function Ft(r,n){r&1&&(o(0,"div",8)(1,"p-toolbar",10),x(2,Dt,1,0,"ng-template",null,2,C)(4,Wt,0,0,"ng-template",null,3,C),i(),o(6,"span",11),d(7,"No categories found"),i()())}function Bt(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",13),i())}function Lt(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(3);return c(t.openNew())}),i()}}function Ot(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function Ht(r,n){if(r&1){let e=_();o(0,"div",16)(1,"h5",17),d(2,"Manage Categories"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",18),o(5,"input",19),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function qt(r,n){r&1&&(o(0,"tr")(1,"th",20),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",21)(4,"span",22),d(5,"ID "),u(6,"p-sortIcon",23),i()(),o(7,"th",24)(8,"span",22),d(9,"Name "),u(10,"p-sortIcon",25),i()(),o(11,"th",26)(12,"span",22),d(13,"Description "),u(14,"p-sortIcon",27),i()(),u(15,"th",28),i())}function Qt(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",29),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td"),d(8),i(),o(9,"td")(10,"p-button",30),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editCategory(t))}),i(),o(11,"p-button",31),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedCategories(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),S(e.description),p(2),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function jt(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",10),x(2,Lt,1,0,"ng-template",null,2,C)(4,Ot,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoCategoryService.selectedCategories,t)||(s.repoCategoryService.selectedCategories=t),c(t)}),x(8,Ht,6,0,"ng-template",null,5,C)(10,qt,16,0,"ng-template",null,6,C)(12,Qt,12,8,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoCategoryService.allCategories())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,Pt)),h("selection",e.repoCategoryService.selectedCategories),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,Nt))}}function At(r,n){if(r&1&&x(0,Bt,2,0,"div",8)(1,jt,14,12,"div",8),r&2){let e=l();v(e.repoCategoryService.getAllCategoriesResource.isLoading()==!0?0:1)}}function Gt(r,n){if(r&1){let e=_();o(0,"div",32)(1,"div",33)(2,"label",34),d(3,"Name"),i(),o(4,"input",35),b("ngModelChange",function(t){m(e);let s=l();return k(s.category.name,t)||(s.category.name=t),c(t)}),i()(),o(5,"div",33)(6,"label",36),d(7,"Description"),i(),o(8,"textarea",37),b("ngModelChange",function(t){m(e);let s=l();return k(s.category.description,t)||(s.category.description=t),c(t)}),i()()()}if(r&2){let e=l();p(4),h("ngModel",e.category.name),p(4),h("ngModel",e.category.description)}}function Kt(r,n){if(r&1){let e=_();o(0,"p-button",38),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",39),g("click",function(){m(e);let t=l();return c(t.saveCategory())}),i()}}var Ae=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoCategoryService=I(He);filterColFields=["id","name","description"];categoryDialog=!1;category;categorySubmitted=!1;ph;exportColumns;cols;exportCSV(){this.ph.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.category={id:0,name:"",description:""},this.categorySubmitted=!1,this.categoryDialog=!0}editCategory(n){this.category=V({},n),this.repoCategoryService.selectedCategory.set(n),this.categoryDialog=!0}deleteSelectedCategories(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected categories?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoCategoryService.selectedCategories.set(this.repoCategoryService.selectedCategories().filter(e=>!this.repoCategoryService.selectedCategories().includes(e))),this.repoCategoryService.deleteCategory(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Categories Deleted",life:3e3})}})}hideDialog(){this.categoryDialog=!1,this.categorySubmitted=!1}findCategoryIndexById(n){let e=-1;for(let a=0;a<this.repoCategoryService.allCategories().length;a++)if(this.repoCategoryService.allCategories()[a].id===n){e=a;break}return e}createCategoryId(n){this.repoCategoryService.createCategory(n)}saveCategory(){this.categorySubmitted=!0;let n=this.repoCategoryService.allCategories();this.category.name?.trim()&&(this.category.id?(console.log(this.category),n[this.findCategoryIndexById(this.category.id)]=this.category,this.repoCategoryService.selectedCategories.set([...n]),this.repoCategoryService.editCategory(this.category.id,this.category),this.messageService.add({severity:"success",summary:"Successful",detail:"Category Updated",life:3e3})):(this.messageService.add({severity:"success",summary:"Successful",detail:"Category Created",life:3e3}),this.repoCategoryService.createCategory(this.category)),this.categoryDialog=!1,this.category={id:0,name:"",description:""})}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-category"]],viewQuery:function(e,a){if(e&1&&P(It,5),e&2){let t;N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:8,vars:9,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Category Details",3,"visibleChange","visible","modal"],["styleClass","mb-12"],[1,"text-center","text-lg","text-orange-500"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["width","full","height","10rem"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} categorys",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","description",2,"min-width","30rem"],["field","description"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["for","description",1,"block","font-bold","mb-4"],["rows","5","cols","30","pTextarea","","id","description","required","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,a){if(e&1){let t=_();x(0,Ft,8,0,"div",8)(1,At,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.categoryDialog,y)||(a.categoryDialog=y),c(y)}),x(3,Gt,9,2,"ng-template",null,0,C)(5,Kt,2,0,"ng-template",null,1,C),i(),u(7,"p-confirmdialog")}e&2&&(v(a.repoCategoryService.allCategories().length==0?0:1),p(2),E(T(7,ct)),h("visible",a.categoryDialog),f("modal",!0),p(5),E(T(8,ct)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,be,se,U,re,te,ee,ue,$,Z,X,z,ne,oe,ke,he],encapsulation:2})};var Ut=["dt"],Yt=["ph"],dt=()=>({width:"450px",height:"900px"}),Jt=()=>({width:"450px"}),zt=()=>({"min-width":"75rem"}),Xt=()=>[10,20,30];function Zt(r,n){r&1&&(o(0,"div",8)(1,"span",11),d(2,"No tasks found"),i()())}function $t(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",12),i())}function ei(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.openNewCreate())}),i()}}function ti(r,n){if(r&1){let e=_();o(0,"p-button",16),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function ii(r,n){if(r&1){let e=_();o(0,"div",17)(1,"h5",18),d(2,"Manage Tasks"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",19),o(5,"input",20),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function oi(r,n){r&1&&(o(0,"tr")(1,"th",21),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",22)(4,"span",23),d(5,"ID "),u(6,"p-sortIcon",24),i()(),o(7,"th",25)(8,"span",23),d(9,"Name "),u(10,"p-sortIcon",26),i()(),o(11,"th",27)(12,"span",23),d(13,"Description "),u(14,"p-sortIcon",28),i()(),o(15,"th",29)(16,"span",23),d(17,"Phase "),u(18,"p-sortIcon",30),i()(),o(19,"th",31)(20,"span",23),d(21,"SubTasks "),u(22,"p-sortIcon",32),i()(),o(23,"th",33)(24,"span",23),d(25,"Category "),u(26,"p-sortIcon",34),i()(),o(27,"th",35)(28,"span",23),d(29,"Task Type "),u(30,"p-sortIcon",36),i()(),o(31,"th",37)(32,"span",23),d(33,"Resources "),u(34,"p-sortIcon",38),i()(),u(35,"th",39),i())}function ni(r,n){if(r&1&&d(0),r&2){let e=n.$implicit;Be(" ",e.name," ")}}function ri(r,n){if(r&1){let e=_();o(0,"div",45)(1,"p-button",46),g("click",function(){m(e);let t=l(5);return c(t.subTaskVisible=!0)}),i()(),ye(2,ni,1,1,null,null,xe)}if(r&2){let e=l(2).$implicit;p(),f("outlined",!0),p(),Te(e.subTaskRepo)}}function ai(r,n){r&1&&(o(0,"span"),d(1,"No Subtasks For This Task"),i())}function si(r,n){if(r&1){let e=_();o(0,"p-drawer",43),b("visibleChange",function(t){m(e);let s=l(4);return k(s.subTaskVisible,t)||(s.subTaskVisible=t),c(t)}),x(1,ri,4,1)(2,ai,2,0,"span"),i(),o(3,"p-button",44),g("click",function(){m(e);let t=l(4);return c(t.subTaskVisible=!0)}),i()}if(r&2){let e=l().$implicit,a=l(3);h("visible",a.subTaskVisible),p(),v(e.subTaskRepo.length>0?1:2),p(2),f("rounded",!0)("outlined",!0)("text",!0)}}function li(r,n){if(r&1&&d(0),r&2){let e=n.$implicit;Be(" ",e.name," ")}}function pi(r,n){if(r&1&&ye(0,li,1,1,null,null,xe),r&2){let e=l(2).$implicit;Te(e.subTaskRepo)}}function mi(r,n){r&1&&(o(0,"span"),d(1,"No Subtasks For This Task"),i())}function ci(r,n){if(r&1){let e=_();o(0,"p-drawer",47),b("visibleChange",function(t){m(e);let s=l(4);return k(s.subTaskVisible,t)||(s.subTaskVisible=t),c(t)}),x(1,pi,2,0)(2,mi,2,0,"span"),i(),u(3,"p-button",48)}if(r&2){let e=l().$implicit,a=l(3);h("visible",a.subTaskVisible),p(),v(e.subTaskRepo.length>0?1:2),p(2),f("rounded",!0)("outlined",!0)("text",!0)}}function di(r,n){if(r&1&&d(0),r&2){let e=n.$implicit;Be(" ",e.resourceRepo.name," ")}}function _i(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",40),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td"),d(8),i(),o(9,"td"),d(10),i(),o(11,"td"),x(12,si,4,5)(13,ci,4,5),i(),o(14,"td"),d(15),i(),o(16,"td"),d(17),i(),o(18,"td"),ye(19,di,1,1,null,null,xe),i(),o(21,"td")(22,"p-button",41),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editTask(t))}),i(),o(23,"p-button",42),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedTasks(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),S(e.description),p(2),S(e.phaseOrder),p(2),v(e.hasSubTaskRepo==!0?12:13),p(3),S(e.categoryRepo==null?null:e.categoryRepo.name),p(2),S(e.taskTypeRepo==null?null:e.taskTypeRepo.name),p(2),Te(e.taskRepoResources),p(3),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function ui(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",13),x(2,ei,1,0,"ng-template",null,2,C)(4,ti,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoTaskService.selectedTasks,t)||(s.repoTaskService.selectedTasks=t),c(t)}),x(8,ii,6,0,"ng-template",null,5,C)(10,oi,36,0,"ng-template",null,6,C)(12,_i,24,12,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoTaskService.allTasks())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,zt)),h("selection",e.repoTaskService.selectedTasks),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,Xt))}}function Ci(r,n){if(r&1&&x(0,$t,2,0,"div",8)(1,ui,14,12,"div",8),r&2){let e=l();v(e.repoTaskService.getAllTasksResource.isLoading()==!0?0:1)}}function gi(r,n){if(r&1){let e=_();o(0,"p-fluid")(1,"div",49)(2,"div",50)(3,"label",51),d(4,"Name"),i(),o(5,"input",52),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.name,t)||(s.tasks.name=t),c(t)}),i()(),o(6,"div",50)(7,"label",53),d(8,"Description"),i(),o(9,"textarea",54),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.description,t)||(s.tasks.description=t),c(t)}),i()(),o(10,"div",50)(11,"label",55),d(12,"Order"),i(),o(13,"p-inputNumber",56),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.phaseOrder,t)||(s.tasks.phaseOrder=t),c(t)}),i()(),o(14,"div",50)(15,"label",57),d(16,"Has SubTasks"),i(),o(17,"div",58)(18,"div",59)(19,"div",23)(20,"p-radiobutton",60),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.hasSubTaskRepo,t)||(s.tasks.hasSubTaskRepo=t),c(t)}),i(),o(21,"label",61),d(22,"Yes"),i()(),o(23,"div",23)(24,"p-radiobutton",62),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.hasSubTaskRepo,t)||(s.tasks.hasSubTaskRepo=t),c(t)}),i(),o(25,"label",63),d(26,"No"),i()()()()(),o(27,"div",50)(28,"label",64),d(29,"Category"),i(),o(30,"p-select",65),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.categoryRepoId,t)||(s.tasks.categoryRepoId=t),c(t)}),i()(),o(31,"div",50)(32,"label",66),d(33,"Resources"),i(),o(34,"p-multiselect",67),b("ngModelChange",function(t){m(e);let s=l();return k(s.selectedResources,t)||(s.selectedResources=t),c(t)}),i()(),o(35,"div",50)(36,"label",68),d(37,"Task Type"),i(),o(38,"p-select",69),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasks.taskTypeRepoId,t)||(s.tasks.taskTypeRepoId=t),c(t)}),i()()()()}if(r&2){let e=l();p(5),h("ngModel",e.tasks.name),p(4),h("ngModel",e.tasks.description),p(4),h("ngModel",e.tasks.phaseOrder),p(7),h("ngModel",e.tasks.hasSubTaskRepo),p(4),h("ngModel",e.tasks.hasSubTaskRepo),p(6),h("ngModel",e.tasks.categoryRepoId),f("options",e.repoCategoryService.allCategories()),p(4),h("ngModel",e.selectedResources),f("options",e.repoResourceService.allResources()),p(4),h("ngModel",e.tasks.taskTypeRepoId),f("options",e.repoTaskTypeService.allTaskTypes())}}function fi(r,n){if(r&1){let e=_();o(0,"p-button",70),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",71),g("click",function(){m(e);let t=l();return c(t.saveTask())}),i()}}function hi(r,n){if(r&1){let e=_();o(0,"li",87)(1,"span"),d(2),i(),o(3,"p-button",88),g("click",function(){let t=m(e).$index,s=l(4);return c(s.removeSubTask(t))}),i()()}if(r&2){let e=n.$implicit;p(2),S(e.name),p(),f("rounded",!0)("text",!0)}}function ki(r,n){if(r&1&&(o(0,"div",75)(1,"h4",85),d(2,"Added Subtasks:"),i(),o(3,"ul",86),ye(4,hi,4,3,"li",87,xe),i()()),r&2){let e=l(3);p(4),Te(e.subtasks)}}function bi(r,n){if(r&1){let e=_();o(0,"div",72)(1,"div",73)(2,"h3",74),d(3,"Subtasks"),i(),x(4,ki,6,0,"div",75),o(5,"div",76)(6,"h4",77),d(7,"Add New Subtask"),i(),o(8,"div",78)(9,"label",79),d(10,"Name"),i(),o(11,"input",80),b("ngModelChange",function(t){m(e);let s=l(2);return k(s.newSubTask.name,t)||(s.newSubTask.name=t),c(t)}),i()(),o(12,"div",78)(13,"label",81),d(14,"Description"),i(),o(15,"textarea",82),b("ngModelChange",function(t){m(e);let s=l(2);return k(s.newSubTask.description,t)||(s.newSubTask.description=t),c(t)}),i()(),o(16,"div",83)(17,"p-button",84),g("click",function(){m(e);let t=l(2);return c(t.addSubTask())}),i()()()()()}if(r&2){let e=l(2);p(4),v(e.subtasks.length>0?4:-1),p(7),h("ngModel",e.newSubTask.name),p(4),h("ngModel",e.newSubTask.description),p(2),f("disabled",!e.newSubTask.name.trim())}}function xi(r,n){if(r&1){let e=_();o(0,"p-fluid")(1,"div",49)(2,"div",50)(3,"label",51),d(4,"Name"),i(),o(5,"input",52),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.name,t)||(s.tasksCreate.name=t),c(t)}),i()(),o(6,"div",50)(7,"label",53),d(8,"Description"),i(),o(9,"textarea",54),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.description,t)||(s.tasksCreate.description=t),c(t)}),i()(),o(10,"div",50)(11,"label",55),d(12,"Order"),i(),o(13,"p-inputNumber",56),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.phaseOrder,t)||(s.tasksCreate.phaseOrder=t),c(t)}),i()(),o(14,"div",50)(15,"label",57),d(16,"Has SubTasks"),i(),o(17,"div",58)(18,"div",59)(19,"div",23)(20,"p-radiobutton",60),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.hasSubTaskRepo,t)||(s.tasksCreate.hasSubTaskRepo=t),c(t)}),i(),o(21,"label",61),d(22,"Yes"),i()(),o(23,"div",23)(24,"p-radiobutton",62),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.hasSubTaskRepo,t)||(s.tasksCreate.hasSubTaskRepo=t),c(t)}),i(),o(25,"label",63),d(26,"No"),i()()()()(),o(27,"div",50)(28,"label",64),d(29,"Category"),i(),o(30,"p-select",65),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.categoryRepoId,t)||(s.tasksCreate.categoryRepoId=t),c(t)}),i()(),o(31,"div",50)(32,"label",66),d(33,"Resources"),i(),o(34,"p-multiselect",67),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.resourceIds,t)||(s.tasksCreate.resourceIds=t),c(t)}),i()(),o(35,"div",50)(36,"label",68),d(37,"Task Type"),i(),o(38,"p-select",69),b("ngModelChange",function(t){m(e);let s=l();return k(s.tasksCreate.taskTypeRepoId,t)||(s.tasksCreate.taskTypeRepoId=t),c(t)}),i()(),x(39,bi,18,4,"div",72),i()()}if(r&2){let e=l();p(5),h("ngModel",e.tasksCreate.name),p(4),h("ngModel",e.tasksCreate.description),p(4),h("ngModel",e.tasksCreate.phaseOrder),p(7),h("ngModel",e.tasksCreate.hasSubTaskRepo),p(4),h("ngModel",e.tasksCreate.hasSubTaskRepo),p(6),h("ngModel",e.tasksCreate.categoryRepoId),f("options",e.repoCategoryService.allCategories()),p(4),h("ngModel",e.tasksCreate.resourceIds),f("options",e.repoResourceService.allResources()),p(4),h("ngModel",e.tasksCreate.taskTypeRepoId),f("options",e.repoTaskTypeService.allTaskTypes()),p(),v(e.tasksCreate.hasSubTaskRepo?39:-1)}}function yi(r,n){if(r&1){let e=_();o(0,"p-button",70),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",71),g("click",function(){m(e);let t=l();return c(t.saveTask())}),i()}}var Ge=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoTaskService=I(at);repoCategoryService=I(He);repoResourceService=I(qe);repoTaskTypeService=I(Qe);filterColFields=["id","name","description","order","categoryRepo.name","hasSubTaskRepo","taskTypeRepo.name"];tasksDialog=!1;tasksCreateDialog=!1;tasks;tasksCreate;tasksUpdate;selectedResources=[];tasksSubmitted=!1;subTaskVisible=!1;newSubTask={name:"",description:""};subtasks=[];availableResources=[{id:1,name:"Resource 1"},{id:2,name:"Resource 2"},{id:3,name:"Resource 3"},{id:4,name:"Resource 4"},{id:5,name:"Resource 5"}];dt;ph;exportColumns;cols;exportCSV(){this.dt.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}addResource(n){let e=this.repoResourceService.allResources().find(a=>a.id===n);e&&this.tasks.taskRepoResources.push({resourceRepo:{id:e.id,name:e.name}})}openNew(){this.tasks={id:0,name:"",description:"",phaseOrder:0,hasSubTaskRepo:!1,categoryRepoId:0,taskTypeRepoId:0,taskTypeRepo:{id:0,name:""},categoryRepo:{id:0,name:""},taskRepoResources:[],subTaskRepo:[]},this.tasksSubmitted=!1,this.tasksDialog=!0}openNewCreate(){this.tasksCreate={name:"",description:"",phaseOrder:0,taskTypeRepoId:0,hasSubTaskRepo:!1,categoryRepoId:0,resourceIds:[]},this.tasksSubmitted=!1,this.tasksCreateDialog=!0,this.subtasks=[]}hideDialog(){this.tasksDialog=!1,this.tasksCreateDialog=!1,this.tasksSubmitted=!1}addSubTask(){this.newSubTask.name.trim()&&(this.subtasks.push(V({},this.newSubTask)),this.newSubTask={name:"",description:""})}removeSubTask(n){this.subtasks.splice(n,1)}editTask(n){this.tasks=V({},n),this.tasks.taskTypeRepoId=n.taskTypeRepo?.id||0,this.repoTaskService.selectedTask.set(n),this.selectedResources=n.taskRepoResources.map(e=>e.resourceRepo.id),this.tasksDialog=!0}deleteSelectedTasks(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected taskss?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoTaskService.selectedTasks.set(this.repoTaskService.selectedTasks().filter(e=>!this.repoTaskService.selectedTasks().includes(e))),this.repoTaskService.deleteTask(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Tasks Deleted",life:3e3})}})}findTaskIndexById(n){let e=-1;for(let a=0;a<this.repoTaskService.allTasks().length;a++)if(this.repoTaskService.allTasks()[a].id===n){e=a;break}return e}getResourceNames(n){return!n||n.length===0?"":n.map(e=>e.name||e).join(", ")}saveTask(){if(this.tasksSubmitted=!0,this.tasksCreate?.name?.trim()){let n=V({},this.tasksCreate);this.repoTaskService.createTask(n).subscribe({next:e=>{if(n.hasSubTaskRepo&&this.subtasks.length>0)try{let a=this.subtasks.map(t=>{let s={id:0,name:t.name,description:t.description,taskRepoId:e.id};return this.repoTaskService.createSubTask(s)});Xe(a).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Task and Subtasks Created",life:3e3}),this.tasksCreateDialog=!1,this.repoTaskService.getAllTasksResource.reload()},error:t=>{this.messageService.add({severity:"warn",summary:"Warning",detail:`Task created but some subtasks failed: ${t.message}`,life:5e3}),console.error("Error creating subtasks:",t),this.tasksCreateDialog=!1,this.repoTaskService.getAllTasksResource.reload()}})}catch(a){console.error("Error setting up subtask creation:",a),this.messageService.add({severity:"success",summary:"Partial Success",detail:"Task created but failed to set up subtasks",life:3e3}),this.tasksCreateDialog=!1,this.repoTaskService.getAllTasksResource.reload()}else this.messageService.add({severity:"success",summary:"Successful",detail:"Task Created",life:3e3}),this.tasksCreateDialog=!1,this.repoTaskService.getAllTasksResource.reload()},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:`Failed to create task: ${e.message}`,life:5e3}),console.error("Task creation error:",e)}})}else if(this.tasks?.name?.trim()){let n=this.repoTaskService.allTasks();if(this.tasks.id){let e=ze(V({},this.tasks),{resourceIds:this.selectedResources,taskTypeRepoId:this.tasks.taskTypeRepoId});this.repoTaskService.editTask(this.tasks.id,e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Task Updated",life:3e3}),n[this.findTaskIndexById(this.tasks.id)]=this.tasks,this.repoTaskService.selectedTasks.set([...n]),this.tasksDialog=!1,this.repoTaskService.getAllTasksResource.reload(),this.tasks={id:0,name:"",description:"",phaseOrder:0,hasSubTaskRepo:!1,categoryRepoId:0,taskTypeRepoId:0,categoryRepo:{id:0,name:""},taskTypeRepo:{id:0,name:""},taskRepoResources:[],subTaskRepo:[]}},error:a=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update task",life:3e3}),console.error(a)}})}}}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-tasks"]],viewQuery:function(e,a){if(e&1&&(P(Ut,5),P(Yt,5)),e&2){let t;N(t=D())&&(a.dt=t.first),N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:13,vars:14,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Task Details",3,"visibleChange","visible","modal"],["header","Create New Task",3,"visibleChange","visible","modal"],[1,"text-center","text-lg","text-orange-500"],["width","full","height","10rem"],["styleClass","mb-12"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} tasks",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","description",2,"min-width","30rem"],["field","description"],["pSortableColumn","phaseOrder",2,"min-width","3rem"],["field","phaseOrder"],["pSortableColumn","hasSubTaskRepo",2,"min-width","3rem"],["field","hasSubTaskRepo"],["pSortableColumn","categoryRepoId",2,"min-width","3rem"],["field","categoryRepoId"],["pSortableColumn","taskTypeRepoId",2,"min-width","3rem"],["field","taskTypeRepoId"],["pSortableColumn","taskRepoResources",2,"min-width","3rem"],["field","taskRepoResources"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["position","right","styleClass","!w-full md:!w-80 lg:!w-[50rem]",3,"visibleChange","visible"],["icon","pi pi-check","severity","success",3,"click","rounded","outlined","text"],[1,"card","flex","justify-end"],["label","Create Subtask",3,"click","outlined"],["position","right",3,"visibleChange","visible"],["icon","pi pi-times","severity","danger",3,"rounded","outlined","text"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["for","description",1,"block","font-bold","mb-4"],["rows","5","cols","30","pTextarea","","id","description","required","",3,"ngModelChange","ngModel"],["for","order",1,"block","font-bold","mb-4"],["id","order","required","",3,"ngModelChange","ngModel"],["for","hasSubTaskRepo",1,"block","font-bold","mb-4"],[1,"flex","flex-wrap"],[1,"flex","flex-row","items-center","gap-4"],["inputId","true","id","hasSubTaskRepo","name","hasSubTaskRepo","value","true","required","",3,"ngModelChange","ngModel"],["for","true",1,"font-bold"],["inputId","false","id","hasSubTaskRepo","name","hasSubTaskRepo","value","false","required","",3,"ngModelChange","ngModel"],["for","false",1,"font-bold"],["for","categoryRepoId",1,"block","font-bold","mb-4"],["id","categoryRepoId","optionLabel","name","optionValue","id","required","",3,"ngModelChange","ngModel","options"],["for","taskRepoResources",1,"block","font-bold","mb-4"],["id","taskRepoResources","optionLabel","name","optionValue","id","required","",3,"ngModelChange","ngModel","options"],["for","taskTypeRepoId",1,"block","font-bold","mb-4"],["id","taskTypeRepoId","optionLabel","name","optionValue","id","required","",3,"ngModelChange","ngModel","options"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"],[1,"col-span-12","mt-4"],[1,"border-t","pt-4"],[1,"text-lg","font-bold","mb-4"],[1,"mb-4"],[1,"p-4","border","rounded-md","bg-gray-50"],[1,"text-md","font-semibold","mb-3"],[1,"mb-3"],["for","subtaskName",1,"block","font-medium","mb-2"],["type","text","pInputText","","id","subtaskName",1,"w-full",3,"ngModelChange","ngModel"],["for","subtaskDescription",1,"block","font-medium","mb-2"],["rows","3","pTextarea","","id","subtaskDescription",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","justify-end"],["label","Add Subtask","icon","pi pi-plus",3,"click","disabled"],[1,"text-md","font-semibold","mb-2"],[1,"list-disc","pl-5"],[1,"mb-2","flex","justify-between","items-center"],["icon","pi pi-trash","severity","danger",3,"click","rounded","text"]],template:function(e,a){if(e&1){let t=_();x(0,Zt,3,0,"div",8)(1,Ci,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.tasksDialog,y)||(a.tasksDialog=y),c(y)}),x(3,gi,39,11,"ng-template",null,0,C)(5,fi,2,0,"ng-template",null,1,C),i(),o(7,"p-dialog",10),b("visibleChange",function(y){return m(t),k(a.tasksCreateDialog,y)||(a.tasksCreateDialog=y),c(y)}),x(8,xi,40,12,"ng-template",null,0,C)(10,yi,2,0,"ng-template",null,1,C),i(),u(12,"p-confirmdialog")}e&2&&(v(a.repoTaskService.allTasks().length==0?0:1),p(2),E(T(11,dt)),h("visible",a.tasksDialog),f("modal",!0),p(5),E(T(12,dt)),h("visible",a.tasksCreateDialog),f("modal",!0),p(5),E(T(13,Jt)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,be,se,rt,U,et,re,Oe,te,ee,ue,$,Z,X,z,ne,oe,ke,he,$e,Ze,ot,it,lt,st],encapsulation:2})};var Ti=["dt"],Si=["ph"],wi=()=>({width:"450px",height:"600px"}),Ri=()=>({width:"450px"}),vi=()=>({"min-width":"75rem"}),Ei=()=>[10,20,30];function Mi(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(2);return c(t.openNew())}),i()}}function Vi(r,n){}function Ii(r,n){r&1&&(o(0,"div",8)(1,"p-toolbar",10),x(2,Mi,1,0,"ng-template",null,2,C)(4,Vi,0,0,"ng-template",null,3,C),i(),o(6,"span",11),d(7,"No resources found"),i()())}function Pi(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",13),i())}function Ni(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(3);return c(t.openNew())}),i()}}function Di(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function Wi(r,n){if(r&1){let e=_();o(0,"div",16)(1,"h5",17),d(2,"Manage Resources"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",18),o(5,"input",19),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function Fi(r,n){r&1&&(o(0,"tr")(1,"th",20),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",21)(4,"span",22),d(5,"ID "),u(6,"p-sortIcon",23),i()(),o(7,"th",24)(8,"span",22),d(9,"Name "),u(10,"p-sortIcon",25),i()(),u(11,"th",26),i())}function Bi(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",27),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td")(8,"p-button",28),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editResource(t))}),i(),o(9,"p-button",29),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedResources(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function Li(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",10),x(2,Ni,1,0,"ng-template",null,2,C)(4,Di,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoResourceService.selectedResources,t)||(s.repoResourceService.selectedResources=t),c(t)}),x(8,Wi,6,0,"ng-template",null,5,C)(10,Fi,12,0,"ng-template",null,6,C)(12,Bi,10,7,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoResourceService.allResources())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,vi)),h("selection",e.repoResourceService.selectedResources),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,Ei))}}function Oi(r,n){if(r&1&&x(0,Pi,2,0,"div",8)(1,Li,14,12,"div",8),r&2){let e=l();v(e.repoResourceService.getAllResourcesResource.isLoading()==!0?0:1)}}function Hi(r,n){if(r&1){let e=_();o(0,"div",30)(1,"div",31)(2,"label",32),d(3,"Name"),i(),o(4,"input",33),b("ngModelChange",function(t){m(e);let s=l();return k(s.resource.name,t)||(s.resource.name=t),c(t)}),i()()()}if(r&2){let e=l();p(4),h("ngModel",e.resource.name)}}function qi(r,n){if(r&1){let e=_();o(0,"p-button",34),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",35),g("click",function(){m(e);let t=l();return c(t.saveResource())}),i()}}var Ke=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoResourceService=I(qe);filterColFields=["id","name"];resourceDialog=!1;resource;resourceSubmitted=!1;dt;ph;exportColumns;cols;exportCSV(){this.dt.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.resource={id:0,name:""},this.resourceSubmitted=!1,this.resourceDialog=!0}editResource(n){this.resource=V({},n),this.repoResourceService.selectedResource.set(n),this.resourceDialog=!0}deleteSelectedResources(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected Resources?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoResourceService.selectedResources.set(this.repoResourceService.selectedResources().filter(e=>!this.repoResourceService.selectedResources().includes(e))),this.repoResourceService.deleteResource(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Resources Deleted",life:3e3})}})}hideDialog(){this.resourceDialog=!1,this.resourceSubmitted=!1}findResourceIndexById(n){let e=-1;for(let a=0;a<this.repoResourceService.allResources().length;a++)if(this.repoResourceService.allResources()[a].id===n){e=a;break}return e}createId(){let n="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}createResourceId(n){this.repoResourceService.createResource(n)}saveResource(){this.resourceSubmitted=!0;let n=this.repoResourceService.allResources();this.resource.name?.trim()&&(this.resource.id?(console.log(this.resource),n[this.findResourceIndexById(this.resource.id)]=this.resource,this.repoResourceService.selectedResources.set([...n]),this.repoResourceService.editResource(this.resource.id,this.resource),this.messageService.add({severity:"success",summary:"Successful",detail:"Resource Updated",life:3e3})):(this.messageService.add({severity:"success",summary:"Successful",detail:"Resource Created",life:3e3}),this.repoResourceService.createResource(this.resource)),this.resourceDialog=!1,this.resource={id:0,name:""})}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-resources"]],viewQuery:function(e,a){if(e&1&&(P(Ti,5),P(Si,5)),e&2){let t;N(t=D())&&(a.dt=t.first),N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:8,vars:9,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Resource Details",3,"visibleChange","visible","modal"],["styleClass","mb-12"],[1,"text-center","text-lg","text-orange-500"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["width","full","height","10rem"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} resources",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,a){if(e&1){let t=_();x(0,Ii,8,0,"div",8)(1,Oi,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.resourceDialog,y)||(a.resourceDialog=y),c(y)}),x(3,Hi,5,1,"ng-template",null,0,C)(5,qi,2,0,"ng-template",null,1,C),i(),u(7,"p-confirmdialog")}e&2&&(v(a.repoResourceService.allResources().length==0?0:1),p(2),E(T(7,wi)),h("visible",a.resourceDialog),f("modal",!0),p(5),E(T(8,Ri)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,se,U,re,te,ee,ue,$,Z,X,z,ne,oe,ke,he],encapsulation:2})};var Qi=["ph"],ji=()=>({width:"1000px"}),Ai=()=>({width:"450px"}),Gi=()=>({"min-width":"75rem"}),Ki=()=>[10,20,30],Ui=()=>({height:"600px"});function Yi(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(2);return c(t.openNew())}),i()}}function Ji(r,n){}function zi(r,n){r&1&&(o(0,"div",8)(1,"p-toolbar",10),x(2,Yi,1,0,"ng-template",null,2,C)(4,Ji,0,0,"ng-template",null,3,C),i(),o(6,"span",11),d(7,"No notebooks found"),i()())}function Xi(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",13),i())}function Zi(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(3);return c(t.openNew())}),i()}}function $i(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function eo(r,n){if(r&1){let e=_();o(0,"div",16)(1,"h5",17),d(2,"Manage Notebooks"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",18),o(5,"input",19),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function to(r,n){r&1&&(o(0,"tr")(1,"th",20),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",21)(4,"span",22),d(5,"ID "),u(6,"p-sortIcon",23),i()(),o(7,"th",24)(8,"span",22),d(9,"Name "),u(10,"p-sortIcon",25),i()(),o(11,"th",26)(12,"span",22),d(13,"Description "),u(14,"p-sortIcon",27),i()(),u(15,"th",28),i())}function io(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",29),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td"),d(8),i(),o(9,"td")(10,"p-button",30),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editNotebook(t))}),i(),o(11,"p-button",31),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedNotebooks(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),S(e.description),p(2),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function oo(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",10),x(2,Zi,1,0,"ng-template",null,2,C)(4,$i,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoNotebookService.selectedNotebooks,t)||(s.repoNotebookService.selectedNotebooks=t),c(t)}),x(8,eo,6,0,"ng-template",null,5,C)(10,to,16,0,"ng-template",null,6,C)(12,io,12,8,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoNotebookService.allNotebooks())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,Gi)),h("selection",e.repoNotebookService.selectedNotebooks),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,Ki))}}function no(r,n){if(r&1&&x(0,Xi,2,0,"div",8)(1,oo,14,12,"div",8),r&2){let e=l();v(e.repoNotebookService.getAllNotebooksResource.isLoading()==!0?0:1)}}function ro(r,n){if(r&1){let e=_();o(0,"div",32)(1,"div",33)(2,"label",34),d(3,"Name"),i(),o(4,"input",35),b("ngModelChange",function(t){m(e);let s=l();return k(s.notebook.name,t)||(s.notebook.name=t),c(t)}),i()(),o(5,"div",33)(6,"label",36),d(7,"Description"),i(),o(8,"textarea",37),b("ngModelChange",function(t){m(e);let s=l();return k(s.notebook.description,t)||(s.notebook.description=t),c(t)}),i()(),o(9,"div",33)(10,"label",38),d(11,"Content"),i(),o(12,"p-editor",39),b("ngModelChange",function(t){m(e);let s=l();return k(s.notebook.content,t)||(s.notebook.content=t),c(t)}),i()()()}if(r&2){let e=l();p(4),h("ngModel",e.notebook.name),p(4),h("ngModel",e.notebook.description),p(4),E(T(5,Ui)),h("ngModel",e.notebook.content)}}function ao(r,n){if(r&1){let e=_();o(0,"p-button",40),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",41),g("click",function(){m(e);let t=l();return c(t.saveNotebook())}),i()}}var Ue=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoNotebookService=I(pt);filterColFields=["id","name","description"];notebookDialog=!1;notebook;notebookSubmitted=!1;ph;exportColumns;cols;exportCSV(){this.ph.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.notebook={id:0,name:"",description:"",content:""},this.notebookSubmitted=!1,this.notebookDialog=!0}editNotebook(n){this.notebook=V({},n),this.repoNotebookService.selectedNotebook.set(n),this.notebookDialog=!0}deleteSelectedNotebooks(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected notebooks?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoNotebookService.selectedNotebooks.set(this.repoNotebookService.selectedNotebooks().filter(e=>!this.repoNotebookService.selectedNotebooks().includes(e))),this.repoNotebookService.deleteNotebook(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Notebooks Deleted",life:3e3})}})}hideDialog(){this.notebookDialog=!1,this.notebookSubmitted=!1}findNotebookIndexById(n){let e=-1;for(let a=0;a<this.repoNotebookService.allNotebooks().length;a++)if(this.repoNotebookService.allNotebooks()[a].id===n){e=a;break}return e}createNotebookId(n){this.repoNotebookService.createNotebook(n)}getSeverity(n){switch(n){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return"info"}}saveNotebook(){this.notebookSubmitted=!0;let n=this.repoNotebookService.allNotebooks();this.notebook.name?.trim()&&(this.notebook.id?(console.log(this.notebook),n[this.findNotebookIndexById(this.notebook.id)]=this.notebook,this.repoNotebookService.selectedNotebooks.set([...n]),this.repoNotebookService.editNotebook(this.notebook.id,this.notebook),this.messageService.add({severity:"success",summary:"Successful",detail:"Notebook Updated",life:3e3})):(this.messageService.add({severity:"success",summary:"Successful",detail:"Notebook Created",life:3e3}),this.repoNotebookService.createNotebook(this.notebook)),this.notebookDialog=!1,this.notebook={id:0,name:"",description:"",content:""})}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-notebooks"]],viewQuery:function(e,a){if(e&1&&P(Qi,5),e&2){let t;N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:8,vars:9,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Category Details",3,"visibleChange","visible","modal"],["styleClass","mb-12"],[1,"text-center","text-lg","text-orange-500"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["width","full","height","10rem"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} notebooks",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],["pSortableColumn","description",2,"min-width","30rem"],["field","description"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["for","description",1,"block","font-bold","mb-4"],["rows","5","cols","30","pTextarea","","id","description","required","",3,"ngModelChange","ngModel"],["for","content",1,"block","font-bold","mb-4"],["id","content","required","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,a){if(e&1){let t=_();x(0,zi,8,0,"div",8)(1,no,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.notebookDialog,y)||(a.notebookDialog=y),c(y)}),x(3,ro,13,6,"ng-template",null,0,C)(5,ao,2,0,"ng-template",null,1,C),i(),u(7,"p-confirmdialog")}e&2&&(v(a.repoNotebookService.allNotebooks().length==0?0:1),p(2),E(T(7,ji)),h("visible",a.notebookDialog),f("modal",!0),p(5),E(T(8,Ai)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,be,se,U,re,te,ee,ue,$,Z,X,z,ne,oe,ke,he,Le,tt],encapsulation:2})};var so=["ph"],lo=()=>({width:"1000px"}),po=()=>({width:"450px"}),mo=()=>({"min-width":"75rem"}),co=()=>[10,20,30];function _o(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(2);return c(t.openNew())}),i()}}function uo(r,n){}function Co(r,n){r&1&&(o(0,"div",8)(1,"p-toolbar",10),x(2,_o,1,0,"ng-template",null,2,C)(4,uo,0,0,"ng-template",null,3,C),i(),o(6,"span",11),d(7,"No taskTypes found"),i()())}function go(r,n){r&1&&(o(0,"div",8),u(1,"p-skeleton",13),i())}function fo(r,n){if(r&1){let e=_();o(0,"p-button",12),g("onClick",function(){m(e);let t=l(3);return c(t.openNew())}),i()}}function ho(r,n){if(r&1){let e=_();o(0,"p-button",15),g("onClick",function(){m(e);let t=l(3);return c(t.exportCSV())}),i()}}function ko(r,n){if(r&1){let e=_();o(0,"div",16)(1,"h5",17),d(2,"Manage TaskTypes"),i(),o(3,"p-iconfield"),u(4,"p-inputicon",18),o(5,"input",19),g("input",function(t){m(e),l();let s=F(7),y=l(2);return c(y.onGlobalFilter(s,t))}),i()()()}}function bo(r,n){r&1&&(o(0,"tr")(1,"th",20),u(2,"p-tableHeaderCheckbox"),i(),o(3,"th",21)(4,"span",22),d(5,"ID "),u(6,"p-sortIcon",23),i()(),o(7,"th",24)(8,"span",22),d(9,"Name "),u(10,"p-sortIcon",25),i()(),u(11,"th",26),i())}function xo(r,n){if(r&1){let e=_();o(0,"tr")(1,"td"),u(2,"p-tableCheckbox",27),i(),o(3,"td"),d(4),i(),o(5,"td"),d(6),i(),o(7,"td")(8,"p-button",28),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.editTaskType(t))}),i(),o(9,"p-button",29),g("click",function(){let t=m(e).$implicit,s=l(3);return c(s.deleteSelectedTaskTypes(t.id))}),i()()()}if(r&2){let e=n.$implicit;p(2),f("value",e),p(2),S(e.id),p(2),S(e.name),p(2),f("rounded",!0)("outlined",!0),p(),f("rounded",!0)("outlined",!0)}}function yo(r,n){if(r&1){let e=_();o(0,"div",8)(1,"p-toolbar",10),x(2,fo,1,0,"ng-template",null,2,C)(4,ho,1,0,"ng-template",null,3,C),i(),o(6,"p-table",14,4),b("selectionChange",function(t){m(e);let s=l(2);return k(s.repoTaskTypeService.selectedTaskTypes,t)||(s.repoTaskTypeService.selectedTaskTypes=t),c(t)}),x(8,ko,6,0,"ng-template",null,5,C)(10,bo,12,0,"ng-template",null,6,C)(12,xo,10,7,"ng-template",null,7,C),i()()}if(r&2){let e=l(2);p(6),f("value",e.repoTaskTypeService.allTaskTypes())("rows",10)("columns",e.cols)("paginator",!0)("globalFilterFields",e.filterColFields)("tableStyle",T(10,mo)),h("selection",e.repoTaskTypeService.selectedTaskTypes),f("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",T(11,co))}}function To(r,n){if(r&1&&x(0,go,2,0,"div",8)(1,yo,14,12,"div",8),r&2){let e=l();v(e.repoTaskTypeService.getAllTaskTypesResource.isLoading()==!0?0:1)}}function So(r,n){if(r&1){let e=_();o(0,"div",30)(1,"div",31)(2,"label",32),d(3,"Name"),i(),o(4,"input",33),b("ngModelChange",function(t){m(e);let s=l();return k(s.taskType.name,t)||(s.taskType.name=t),c(t)}),i()()()}if(r&2){let e=l();p(4),h("ngModel",e.taskType.name)}}function wo(r,n){if(r&1){let e=_();o(0,"p-button",34),g("click",function(){m(e);let t=l();return c(t.hideDialog())}),i(),o(1,"p-button",35),g("click",function(){m(e);let t=l();return c(t.saveTaskType())}),i()}}var Ye=class r{constructor(n,e){this.messageService=n;this.confirmationService=e}repoTaskTypeService=I(Qe);filterColFields=["id","name","description"];taskTypeDialog=!1;taskType;taskTypeSubmitted=!1;ph;exportColumns;cols;exportCSV(){this.ph.exportCSV()}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.taskType={id:0,name:""},this.taskTypeSubmitted=!1,this.taskTypeDialog=!0}editTaskType(n){this.taskType=V({},n),this.repoTaskTypeService.selectedTaskType.set(n),this.taskTypeDialog=!0}deleteSelectedTaskTypes(n){this.confirmationService.confirm({message:"Are you sure you want to delete the selected taskTypes?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.repoTaskTypeService.selectedTaskTypes.set(this.repoTaskTypeService.selectedTaskTypes().filter(e=>!this.repoTaskTypeService.selectedTaskTypes().includes(e))),this.repoTaskTypeService.deleteTaskType(n),this.messageService.add({severity:"success",summary:"Successful",detail:"TaskTypes Deleted",life:3e3})}})}hideDialog(){this.taskTypeDialog=!1,this.taskTypeSubmitted=!1}findTaskTypeIndexById(n){let e=-1;for(let a=0;a<this.repoTaskTypeService.allTaskTypes().length;a++)if(this.repoTaskTypeService.allTaskTypes()[a].id===n){e=a;break}return e}createTaskTypeId(n){this.repoTaskTypeService.createTaskType(n)}saveTaskType(){this.taskTypeSubmitted=!0;let n=this.repoTaskTypeService.allTaskTypes();this.taskType.name?.trim()&&(this.taskType.id?(console.log(this.taskType),n[this.findTaskTypeIndexById(this.taskType.id)]=this.taskType,this.repoTaskTypeService.selectedTaskTypes.set([...n]),this.repoTaskTypeService.editTaskType(this.taskType.id,this.taskType),this.messageService.add({severity:"success",summary:"Successful",detail:"TaskType Updated",life:3e3})):(this.messageService.add({severity:"success",summary:"Successful",detail:"TaskType Created",life:3e3}),this.repoTaskTypeService.createTaskType(this.taskType)),this.taskTypeDialog=!1,this.taskType={id:0,name:""})}static \u0275fac=function(e){return new(e||r)(M(R),M(w))};static \u0275cmp=W({type:r,selectors:[["app-repo-tasktypes"]],viewQuery:function(e,a){if(e&1&&P(so,5),e&2){let t;N(t=D())&&(a.ph=t.first)}},features:[B([R,w])],decls:8,vars:9,consts:[["content",""],["footer",""],["start",""],["end",""],["ph",""],["caption",""],["header",""],["body",""],[1,"card"],["header","Category Details",3,"visibleChange","visible","modal"],["styleClass","mb-12"],[1,"text-center","text-lg","text-orange-500"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["width","full","height","10rem"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} taskTypes",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","3rem"],[1,"flex","items-center","gap-2"],["field","id"],["pSortableColumn","name",2,"min-width","16rem"],["field","name"],[2,"min-width","12rem"],[3,"value"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"block","font-bold","mb-4"],["type","text","pInputText","","id","name","required","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,a){if(e&1){let t=_();x(0,Co,8,0,"div",8)(1,To,2,1),o(2,"p-dialog",9),b("visibleChange",function(y){return m(t),k(a.taskTypeDialog,y)||(a.taskTypeDialog=y),c(y)}),x(3,So,5,1,"ng-template",null,0,C)(5,wo,2,0,"ng-template",null,1,C),i(),u(7,"p-confirmdialog")}e&2&&(v(a.repoTaskTypeService.allTaskTypes().length==0?0:1),p(2),E(T(7,lo)),h("visible",a.taskTypeDialog),f("modal",!0),p(5),E(T(8,po)))},dependencies:[L,_e,le,pe,me,ce,de,j,O,H,Q,q,K,G,A,ie,fe,ge,ae,J,Y,Ce,se,U,re,te,ee,ue,$,Z,X,z,ne,oe,ke,he,Le],encapsulation:2})};var Ka=[{path:"phases",component:je,data:{breadcrumb:"Phases"}},{path:"category",component:Ae,data:{breadcrumb:"Categories"}},{path:"tasks",component:Ge,data:{breadcrumb:"Tasks"}},{path:"resources",component:Ke,data:{breadcrumb:"Resources"}},{path:"notebooks",component:Ue,data:{breadcrumb:"Notebooks"}},{path:"tasktypes",component:Ye,data:{breadcrumb:"Task Types"}},{path:"**",redirectTo:"/notfound"}];export{Ka as default};
