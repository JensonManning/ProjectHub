import{a as gn,b as Rt,c as bn,d as vn,e as yn,f as wn,g as Cn,h as Sn,i as Tn,j as Pn,k as En}from"./chunk-V4JLHMWH.js";import{a as fn,b as _n}from"./chunk-HQW5XNHR.js";import{g as rn,h as sn,l as pi}from"./chunk-7OIDS63O.js";import"./chunk-QXRNZP2L.js";import{a as hn,b as Rn,c as Ln}from"./chunk-Y66WSUQK.js";import{$ as _i,A as qe,B as an,E as wt,G as De,Ga as Tt,Ia as me,J as hi,K as fi,Ka as he,M as ln,N as cn,Na as Pe,Pa as Pt,Qa as Et,Ra as Lt,Sa as ze,Ta as xn,U as xt,Ua as In,Va as Dn,Wa as kn,X as xe,Y as M,a as nn,aa as ke,e as ui,ea as It,ga as Ct,ha as dn,ia as pn,j as nt,ja as St,ka as un,l as on,m as rt,p as Ae,pa as mn,q as Ne,qa as Dt,sa as Ie,ta as re,ua as Te,v as yt,wa as kt,z as mi}from"./chunk-NB76KGKE.js";import{$ as h,Ab as k,C as $i,Cb as v,Db as l,Eb as Ce,Ec as de,Fb as ye,Fc as ue,Gc as X,Hb as Oe,Hc as we,I as ht,Ia as si,Ib as N,Ic as Se,J as ti,Ja as He,Jb as le,K as Ke,Kb as T,Kc as tn,L as ji,La as oi,Lb as P,Lc as L,Ma as d,N as ii,Nc as ne,O as E,Ob as ce,P as $,Pa as $e,Pb as x,Qa as ai,Qb as O,R as be,Ra as F,Rb as We,Sb as Yi,T as Wi,Ta as li,Tb as G,Tc as bt,U as _,Ub as U,Uc as Ge,Vb as q,Wb as z,Wc as Fe,X as Zi,Xb as Ze,Xc as vt,Ya as R,Yb as Q,Yc as Ue,Za as j,Zb as Y,_ as ni,_a as tt,a as ge,aa as f,ab as ae,c as Je,ca as ee,cb as b,ea as et,ec as Xi,f as C,g as ut,gc as Ji,h as Jt,hc as W,ia as S,ib as Qi,ic as ci,ja as pe,jb as I,k as zi,kb as c,kc as gt,la as Gi,lb as it,ma as ve,mb as ft,mc as D,na as Re,nb as _t,nc as ie,o as Bi,ob as te,pa as Ui,qc as di,ra as qi,sc as en,ub as u,v as Ki,vb as p,w as mt,wa as ri,wb as w,x as Hi,xb as Le,xc as Ve,y as ei,yb as Me,zb as je}from"./chunk-U6KPTH7L.js";import{a as A,b as Z}from"./chunk-GAL4ENT6.js";var se=class i{constructor(n){this.http=n;this.http.get("/demo/data/kanban.json").toPromise().then(e=>e.data).then(e=>{this.updateLists(e)})}_lists=[];selectedCard=new C;selectedListId=new C;lists=new ut(this._lists);listNames=new C;lists$=this.lists.asObservable();selectedCard$=this.selectedCard.asObservable();selectedListId$=this.selectedListId.asObservable();listNames$=this.listNames.asObservable();updateLists(n){this._lists=n;let e=n.map(t=>({listId:t.listId,title:t.title}));this.listNames.next(e),this.lists.next(n)}addList(){let t={listId:this.generateId(),title:"Untitled List",cards:[]};this._lists.push(t),this.lists.next(this._lists)}addCard(n){let r={id:this.generateId(),title:"Untitled card",description:"",progress:"",assignees:[],attachments:0,comments:[],startDate:"",dueDate:"",completed:!1,taskList:{title:"Untitled Task List",tasks:[]}},s=[];s=this._lists.map(o=>o.listId===n?Z(A({},o),{cards:[...o.cards||[],r]}):o),this.updateLists(s)}updateCard(n,e){let t=this._lists.map(r=>r.listId===e?Z(A({},r),{cards:r.cards.map(s=>s?.id===n.id?A({},n):s)}):r);this.updateLists(t)}deleteList(n){this._lists=this._lists.filter(e=>e.listId!==n),this.lists.next(this._lists)}copyList(n){let e=this.generateId(),t=Z(A({},n),{listId:e});this._lists.push(t),this.lists.next(this._lists)}deleteCard(n,e){let t=[];for(let r=0;r<this._lists.length;r++){let s=this._lists[r];s.listId===e&&s.cards&&(s.cards=s.cards.filter(o=>o.id!==n)),t.push(s)}this.updateLists(t)}copyCard(n,e){let t=[];for(let r=0;r<this._lists.length;r++){let s=this._lists[r];if(s.listId===e&&s.cards){let o=s.cards.indexOf(n),a=this.generateId(),m=Z(A({},n),{id:a});s.cards.splice(o,0,m)}t.push(s)}this.updateLists(t)}moveCard(n,e,t){if(n.id){this.deleteCard(n.id,t);let r=this._lists.map(s=>s.listId===e?Z(A({},s),{cards:[...s.cards||[],n]}):s);this.updateLists(r)}}onCardSelect(n,e){this.selectedCard.next(n),this.selectedListId.next(e)}generateId(){let n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var t=0;t<5;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}isMobileDevice(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||/(android)/i.test(navigator.userAgent)}static \u0275fac=function(e){return new(e||i)(Wi(nn))};static \u0275prov=E({token:i,factory:i.\u0275fac})};var Cr=["content"],Sr=["*"],Dr=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),kr=(i,n)=>({value:i,params:n}),Tr=i=>({closeCallback:i});function Pr(i,n){}function Er(i,n){i&1&&b(0,Pr,0,0,"ng-template")}function Rr(i,n){if(i&1){let e=k();u(0,"div",1),v("click",function(r){h(e);let s=l();return f(s.onOverlayClick(r))})("@animation.start",function(r){h(e);let s=l();return f(s.onAnimationStart(r))})("@animation.done",function(r){h(e);let s=l();return f(s.onAnimationEnd(r))}),u(1,"div",2),v("click",function(r){h(e);let s=l();return f(s.onContentClick(r))})("mousedown",function(r){h(e);let s=l();return f(s.onContentClick(r))}),ye(2),b(3,Er,1,0,null,3),p()()}if(i&2){let e=l();te(e.styleClass),c("ngClass","p-popover p-component")("ngStyle",e.style)("@animation",Y(13,kr,e.overlayVisible?"open":"close",Y(10,Dr,e.showTransitionOptions,e.hideTransitionOptions))),I("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),d(3),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Q(16,Tr,e.onCloseClick.bind(e)))}}var Lr=({dt:i})=>`
.p-popover {
    margin-top: ${i("popover.gutter")};
    background: ${i("popover.background")};
    color: ${i("popover.color")};
    border: 1px solid ${i("popover.border.color")};
    border-radius: ${i("popover.border.radius")};
    box-shadow: ${i("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${i("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${i("popover.gutter")} * -1);
    margin-bottom: ${i("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${i("popover.arrow.offset")} + ${i("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${i("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${i("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${i("popover.background")};
}

.p-popover:before {
    border-width: ${i("popover.gutter")};
    margin-left: calc(-1 * ${i("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${i("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${i("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${i("popover.border.color")};
}

`,Mr={root:"p-popover p-component",content:"p-popover-content"},Mn=(()=>{class i extends ke{name="popover";theme=Lr;classes=Mr;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=E({token:i,factory:i.\u0275fac})}return i})(),Or=(()=>{class i extends Ie{ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new S;onHide=new S;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=_(Mn);zone=_(pe);overlayService=_(xt);ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break}})}bindDocumentClickListener(){if(ne(this.platformId)&&!this.documentClickListener){let e=mi()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,r=>{this.dismissable&&(!this.container?.contains(r.target)&&this.target!==r.target&&!this.target.contains(r.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):rt(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&Pe.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),nt(this.container,this.target,!1);let e=yt(this.container),t=yt(this.target),r=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),s=0;e.left<t.left&&(s=t.left-e.left-parseFloat(r)*2),this.container?.style.setProperty(_i("popover.arrow.left").name,`${s}px`),e.top<t.top&&(this.container.setAttribute("data-p-popover-flipped","true"),ui(this.container,"p-popover-flipped"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Pe.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=Ae(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!qe()&&this.hide()}bindDocumentResizeListener(){if(ne(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){ne(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new kt(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Pe.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=R({type:i,selectors:[["p-popover"]],contentQueries:function(t,r,s){if(t&1&&(N(s,Cr,4),N(s,xe,4)),t&2){let o;T(o=P())&&(r.contentTemplate=o.first),T(o=P())&&(r.templates=o)}},hostBindings:function(t,r){t&1&&v("keydown.escape",function(o){return r.onEscapeKeydown(o)},!1,oi)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",D],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",D],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",ie],focusOnShow:[2,"focusOnShow","focusOnShow",D],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[z([Mn]),ae],ngContentSelectors:Sr,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&(Ce(),b(0,Rr,4,18,"div",0)),t&2&&c("ngIf",r.render)},dependencies:[L,de,X,Se,we,M],encapsulation:2,data:{animation:[bt("animation",[vt("void",Fe({transform:"scaleY(0.8)",opacity:0})),vt("close",Fe({opacity:0})),vt("open",Fe({transform:"translateY(0)",opacity:1})),Ue("void => open",Ge("{{showTransitionParams}}")),Ue("open => close",Ge("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),On=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({imports:[Or,M,M]})}return i})();var Fn=["*"],Vr=["display"],Fr=["content"],Ar=["closeicon"],Nr=[[["","pInplaceDisplay",""]],[["","pInplaceContent",""]]],zr=["[pInplaceDisplay]","[pInplaceContent]"],Br=i=>({"p-inplace p-component":!0,"p-inplace-closable":i}),Kr=i=>({"p-disabled":i}),Hr=i=>({closeCallback:i});function $r(i,n){i&1&&je(0)}function jr(i,n){if(i&1){let e=k();u(0,"div",3),v("click",function(r){h(e);let s=l();return f(s.onActivateClick(r))})("keydown",function(r){h(e);let s=l();return f(s.onKeydown(r))}),ye(1),b(2,$r,1,0,"ng-container",4),p()}if(i&2){let e=l();c("ngClass",Q(2,Kr,e.disabled)),d(2),c("ngTemplateOutlet",e.displayTemplate||e._displayTemplate)}}function Wr(i,n){i&1&&je(0)}function Zr(i,n){if(i&1){let e=k();u(0,"button",10),v("click",function(r){h(e);let s=l(3);return f(s.onDeactivateClick(r))}),p()}if(i&2){let e=l(3);c("icon",e.closeIcon),I("aria-label",e.closeAriaLabel)}}function Gr(i,n){i&1&&w(0,"TimesIcon")}function Ur(i,n){}function qr(i,n){i&1&&b(0,Ur,0,0,"ng-template")}function Qr(i,n){if(i&1){let e=k();u(0,"button",11),v("click",function(r){h(e);let s=l(3);return f(s.onDeactivateClick(r))}),b(1,Gr,1,0,"TimesIcon",7)(2,qr,1,0,null,4),p()}if(i&2){let e=l(3);c("ngClass","p-button-icon-only"),I("aria-label",e.closeAriaLabel),d(),c("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),d(),c("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate)}}function Yr(i,n){if(i&1&&(Le(0),b(1,Zr,1,2,"button",8)(2,Qr,3,4,"button",9),Me()),i&2){let e=l(2);d(),c("ngIf",e.closeIcon),d(),c("ngIf",!e.closeIcon)}}function Xr(i,n){if(i&1&&(u(0,"div",5),ye(1,1),b(2,Wr,1,0,"ng-container",6)(3,Yr,3,2,"ng-container",7),p()),i&2){let e=l();d(2),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Q(3,Hr,e.onDeactivateClick.bind(e))),d(),c("ngIf",e.closable)}}var Jr=({dt:i})=>`
.p-inplace-display {
    display: inline-block;
    cursor: pointer;
    border: 1px solid transparent;
    padding: ${i("inplace.padding")};
    border-radius: ${i("inplace.border.radius")};
    transition: background ${i("inplace.transition.duration")}, color ${i("inplace.transition.duration")}, outline-color ${i("inplace.transition.duration")}, box-shadow ${i("inplace.transition.duration")};
    outline-color: transparent;
}

.p-inplace-display:not(.p-disabled):hover {
    background: ${i("inplace.display.hover.background")};
    color: ${i("inplace.display.hover.color")};
}

.p-inplace-display:focus-visible {
    box-shadow: ${i("inplace.focus.ring.shadow")};
    outline: ${i("inplace.focus.ring.width")} ${i("inplace.focus.ring.style")} ${i("inplace.focus.ring.color")};
    outline-offset: ${i("inplace.focus.ring.offset")};
}

.p-inplace-content {
    display: block;
}
`,es={root:"p-inplace p-component",display:({props:i})=>["p-inplace-display",{"p-disabled":i.disabled}],content:"p-inplace-content"},Vn=(()=>{class i extends ke{name="inplace";theme=Jr;classes=es;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=E({token:i,factory:i.\u0275fac})}return i})();var ts=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["p-inplacedisplay"],["p-inplaceDisplay"]],ngContentSelectors:Fn,decls:1,vars:0,template:function(t,r){t&1&&(Ce(),ye(0))},dependencies:[L],encapsulation:2})}return i})(),is=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["p-inplacecontent"],["p-inplaceContent"]],ngContentSelectors:Fn,decls:1,vars:0,template:function(t,r){t&1&&(Ce(),ye(0))},dependencies:[L],encapsulation:2})}return i})(),st=(()=>{class i extends Ie{active=!1;closable=!1;disabled=!1;preventClick;style;styleClass;closeIcon;closeAriaLabel;onActivate=new S;onDeactivate=new S;hover;displayTemplate;contentTemplate;closeIconTemplate;_componentStyle=_(Vn);onActivateClick(e){this.preventClick||this.activate(e)}onDeactivateClick(e){this.preventClick||this.deactivate(e)}activate(e){this.disabled||(this.active=!0,this.onActivate.emit(e),this.cd.markForCheck())}deactivate(e){this.disabled||(this.active=!1,this.hover=!1,this.onDeactivate.emit(e),this.cd.markForCheck())}onKeydown(e){e.code==="Enter"&&(this.activate(e),e.preventDefault())}templates;_displayTemplate;_closeIconTemplate;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"display":this._displayTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=R({type:i,selectors:[["p-inplace"]],contentQueries:function(t,r,s){if(t&1&&(N(s,Vr,4),N(s,Fr,4),N(s,Ar,4),N(s,xe,4)),t&2){let o;T(o=P())&&(r.displayTemplate=o.first),T(o=P())&&(r.contentTemplate=o.first),T(o=P())&&(r.closeIconTemplate=o.first),T(o=P())&&(r.templates=o)}},inputs:{active:[2,"active","active",D],closable:[2,"closable","closable",D],disabled:[2,"disabled","disabled",D],preventClick:[2,"preventClick","preventClick",D],style:"style",styleClass:"styleClass",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel"},outputs:{onActivate:"onActivate",onDeactivate:"onDeactivate"},features:[z([Vn]),ae],ngContentSelectors:zr,decls:3,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-inplace-display","tabindex","0","role","button",3,"ngClass","click","keydown",4,"ngIf"],["class","p-inplace-content",4,"ngIf"],["tabindex","0","role","button",1,"p-inplace-display",3,"click","keydown","ngClass"],[4,"ngTemplateOutlet"],[1,"p-inplace-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["type","button","pButton","","pRipple","",3,"icon","click",4,"ngIf"],["type","button","pButton","","pRipple","",3,"ngClass","click",4,"ngIf"],["type","button","pButton","","pRipple","",3,"click","icon"],["type","button","pButton","","pRipple","",3,"click","ngClass"]],template:function(t,r){t&1&&(Ce(Nr),u(0,"div",0),b(1,jr,3,4,"div",1)(2,Xr,4,5,"div",2),p()),t&2&&(te(r.styleClass),c("ngClass",Q(7,Br,r.closable))("ngStyle",r.style),I("aria-live","polite"),d(),c("ngIf",!r.active),d(),c("ngIf",r.active))},dependencies:[L,de,X,Se,we,he,me,Tt,M,re],encapsulation:2,changeDetection:0})}return i})(),Vt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({imports:[st,is,ts,M,M]})}return i})();var ns=["content"],rs=(i,n)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":n}),ss=i=>({$implicit:i});function os(i,n){if(i&1&&(u(0,"div"),x(1),p()),i&2){let e=l(2);it("display",e.value!=null&&e.value!==0?"flex":"none"),I("data-pc-section","label"),d(),Yi("",e.value,"",e.unit,"")}}function as(i,n){i&1&&je(0)}function ls(i,n){if(i&1&&(u(0,"div",3)(1,"div",4),b(2,os,2,5,"div",5)(3,as,1,0,"ng-container",6),p()()),i&2){let e=l();te(e.valueStyleClass),it("width",e.value+"%")("background",e.color),c("ngClass","p-progressbar-value p-progressbar-value-animate"),I("data-pc-section","value"),d(2),c("ngIf",e.showValue&&!e.contentTemplate&&!e._contentTemplate),d(),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Q(11,ss,e.value))}}function cs(i,n){if(i&1&&(u(0,"div",7),w(1,"div",8),p()),i&2){let e=l();te(e.valueStyleClass),c("ngClass","p-progressbar-indeterminate-container"),I("data-pc-section","container"),d(),it("background",e.color),I("data-pc-section","value")}}var ds=({dt:i})=>`
.p-progressbar {
    position: relative;
    overflow: hidden;
    height: ${i("progressbar.height")};
    background: ${i("progressbar.background")};
    border-radius: ${i("progressbar.border.radius")};
}

.p-progressbar-value {
    margin: 0;
    background: ${i("progressbar.value.background")};
}

.p-progressbar-label {
    color: ${i("progressbar.label.color")};
    font-size: ${i("progressbar.label.font.size")};
    font-weight: ${i("progressbar.label.font.weight")};
}

.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 1s ease-in-out;
}

.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}

.p-progressbar-indeterminate .p-progressbar-value::before {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}

.p-progressbar-indeterminate .p-progressbar-value::after {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
}

@-webkit-keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
@keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
`,ps={root:({instance:i})=>["p-progressbar p-component",{"p-progressbar-determinate":i.determinate,"p-progressbar-indeterminate":i.indeterminate}],value:"p-progressbar-value",label:"p-progressbar-label"},Nn=(()=>{class i extends ke{name="progressbar";theme=ds;classes=ps;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=E({token:i,factory:i.\u0275fac})}return i})();var ot=(()=>{class i extends Ie{value;showValue=!0;styleClass;valueStyleClass;style;unit="%";mode="determinate";color;contentTemplate;_componentStyle=_(Nn);templates;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=R({type:i,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(t,r,s){if(t&1&&(N(s,ns,4),N(s,xe,4)),t&2){let o;T(o=P())&&(r.contentTemplate=o.first),T(o=P())&&(r.templates=o)}},inputs:{value:[2,"value","value",ie],showValue:[2,"showValue","showValue",D],styleClass:"styleClass",valueStyleClass:"valueStyleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[z([Nn]),ae],decls:3,vars:15,consts:[["role","progressbar",3,"ngStyle","ngClass"],["style","display:flex",3,"ngClass","class","width","background",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[2,"display","flex",3,"ngClass"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(t,r){t&1&&(u(0,"div",0),b(1,ls,4,13,"div",1)(2,cs,2,7,"div",2),p()),t&2&&(te(r.styleClass),c("ngStyle",r.style)("ngClass",Y(12,rs,r.mode==="determinate",r.mode==="indeterminate")),I("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root")("aria-label",r.value+r.unit),d(),c("ngIf",r.mode==="determinate"),d(),c("ngIf",r.mode==="indeterminate"))},dependencies:[L,de,X,Se,we,M],encapsulation:2,changeDetection:0})}return i})(),Ft=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({imports:[ot,M,M]})}return i})();var Bn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({imports:[L,M,Tt,M]})}return i})();var fs=["inputTitle"],_s=["inputTaskListTitle"],gs=()=>({height:"2.5rem"}),bs=(i,n)=>({"text-600 line-through":i,"text-900":n});function vs(i,n){if(i&1&&(u(0,"span",47),x(1),p()),i&2){let e=l(3);d(),O(e.formValue.title?e.formValue.title:"Untitled")}}function ys(i,n){if(i&1){let e=k();u(0,"span",48)(1,"input",49,8),q("ngModelChange",function(r){h(e);let s=l(3);return U(s.formValue.title,r)||(s.formValue.title=r),f(r)}),v("keydown.enter",function(){h(e),l();let r=ce(3);return f(r.deactivate())}),p(),u(3,"button",50),v("click",function(r){let s=h(e).closeCallback;return f(s(r))}),p()()}if(i&2){let e=l(3);d(),G("ngModel",e.formValue.title)}}function ws(i,n){if(i&1){let e=k();u(0,"span",22),v("click",function(){let r=h(e).$implicit,s=l(3);return f(s.onMove(r.listId||""))}),x(1),p()}if(i&2){let e=n.$implicit;d(),O(e.title)}}function xs(i,n){if(i&1&&(u(0,"div",51)(1,"div",52)(2,"span",53),x(3,"Progress"),p(),u(4,"span",54),x(5),p()(),w(6,"p-progress-bar",55),p()),i&2){let e=l(3);d(5),We("",e.formValue.progress,"%"),d(),c("value",e.formValue.progress)("showValue",!1)}}function Is(i,n){if(i&1&&(u(0,"span",47),x(1),p()),i&2){let e=l(4);d(),O(e.formValue.taskList.title)}}function Cs(i,n){if(i&1){let e=k();u(0,"span",48)(1,"input",49,9),q("ngModelChange",function(r){h(e);let s=l(4);return U(s.formValue.taskList.title,r)||(s.formValue.taskList.title=r),f(r)}),v("keydown.enter",function(){h(e),l();let r=ce(3);return f(r.deactivate())}),p(),u(3,"button",50),v("click",function(r){let s=h(e).closeCallback;return f(s(r))}),p()()}if(i&2){let e=l(4);d(),G("ngModel",e.formValue.taskList.title)}}function Ss(i,n){if(i&1){let e=k();u(0,"li",61)(1,"p-checkbox",62),q("ngModelChange",function(r){let s=h(e).$implicit;return U(s.completed,r)||(s.completed=r),f(r)}),v("onChange",function(){h(e);let r=l(5);return f(r.calculateProgress())}),p(),u(2,"span",63),x(3),p()()}if(i&2){let e=n.$implicit,t=n.index;d(),c("name",e.text+t),G("ngModel",e.completed),c("binary",!0)("inputId",e.text),d(),c("ngClass",Y(6,bs,e.completed,!e.completed)),d(),We(" ",e.text," ")}}function Ds(i,n){if(i&1&&(u(0,"ul",59),b(1,Ss,4,9,"li",60),p()),i&2){let e=l(4);d(),c("ngForOf",e.formValue.taskList==null?null:e.formValue.taskList.tasks)}}function ks(i,n){if(i&1){let e=k();u(0,"div",51)(1,"div",56)(2,"p-inplace",null,2),b(4,Is,2,1,"ng-template",null,3,W)(6,Cs,4,1,"ng-template",null,4,W),p()(),u(8,"textarea",57),q("ngModelChange",function(r){h(e);let s=l(3);return U(s.taskContent,r)||(s.taskContent=r),f(r)}),v("keydown.enter",function(r){h(e);let s=l(3);return f(s.addTask(r))}),p(),b(9,Ds,2,1,"ul",58),p()}if(i&2){let e=l(3);d(8),G("ngModel",e.taskContent),d(),c("ngIf",(e.formValue.taskList==null||e.formValue.taskList.tasks==null?null:e.formValue.taskList.tasks.length)!==0)}}function Ts(i,n){if(i&1&&(u(0,"div",64)(1,"div",65),w(2,"img",66),u(3,"span",67),x(4),p()()()),i&2){let e=n.$implicit;d(2),Oe("src","/demo/images/avatar/",e.image,"",He),c("alt",e.name),d(2),O(e.name)}}function Ps(i,n){if(i&1&&(u(0,"div",68),w(1,"img",66),u(2,"span",67),x(3),p()()),i&2){let e=n.$implicit;d(),Oe("src","/demo/images/avatar/",e.image,"",He),c("alt",e.name),d(2),O(e.name)}}function Es(i,n){if(i&1&&(u(0,"span",77),w(1,"img",78),p()),i&2){let e=l().$implicit;d(),Oe("src","/demo/images/avatar/",e.image,"",He)}}function Rs(i,n){i&1&&(u(0,"span",79),w(1,"i",40),p())}function Ls(i,n){if(i&1&&(u(0,"div",69),b(1,Es,2,2,"span",70)(2,Rs,2,0,"span",71),u(3,"div",72)(4,"div",73)(5,"span",74),x(6),p(),u(7,"span",75),x(8,"1 Jun 17:58 pm"),p()(),u(9,"span",76),x(10),p()()()),i&2){let e=n.$implicit;d(),c("ngIf",e.image),d(),c("ngIf",!e.image),d(4),O(e.name),d(4),O(e==null?null:e.text)}}function Ms(i,n){if(i&1){let e=k();u(0,"form",12),v("submit",function(r){h(e);let s=l(2);return f(s.onSave(r))}),u(1,"div",13)(2,"p-inplace",null,2),b(4,vs,2,1,"ng-template",null,3,W)(6,ys,4,1,"ng-template",null,4,W),p(),u(8,"div",14),w(9,"button",15,5),u(11,"button",16),v("click",function(){h(e);let r=l(2);return f(r.close())}),p(),u(12,"div",17)(13,"div",18)(14,"div",19)(15,"span",20),x(16,"Move to..."),p(),b(17,ws,2,1,"span",21),p(),u(18,"div",19)(19,"span",20),x(20,"Tasks"),p(),u(21,"span",22),v("click",function(){h(e);let r=l(2);return f(r.addTaskList())}),x(22,"Create a tasklist"),p()()()()()(),u(23,"div",23)(24,"div",24)(25,"label",25),x(26,"Description"),p(),u(27,"textarea",26),q("ngModelChange",function(r){h(e);let s=l(2);return U(s.formValue.description,r)||(s.formValue.description=r),f(r)}),p()(),u(28,"div",27)(29,"div",28)(30,"label",25),x(31,"Start Date"),p(),u(32,"p-datepicker",29),q("ngModelChange",function(r){h(e);let s=l(2);return U(s.formValue.startDate,r)||(s.formValue.startDate=r),f(r)}),p()(),u(33,"div",28)(34,"label",30),x(35,"Due Date"),p(),u(36,"p-datepicker",31),q("ngModelChange",function(r){h(e);let s=l(2);return U(s.formValue.dueDate,r)||(s.formValue.dueDate=r),f(r)}),p()()(),b(37,xs,7,3,"div",32)(38,ks,10,2,"div",32),u(39,"div",33)(40,"label",34),x(41,"Assignees"),p(),u(42,"p-autocomplete",35),q("ngModelChange",function(r){h(e);let s=l(2);return U(s.formValue.assignees,r)||(s.formValue.assignees=r),f(r)}),v("completeMethod",function(r){h(e);let s=l(2);return f(s.filterAssignees(r))}),b(43,Ts,5,4,"ng-template",null,6,W)(45,Ps,4,4,"ng-template",null,7,W),p()(),u(47,"div",36)(48,"span",37),x(49,"Comments"),p(),u(50,"div",38)(51,"span",39),w(52,"i",40),p(),w(53,"span"),u(54,"textarea",41),q("ngModelChange",function(r){h(e);let s=l(2);return U(s.comment,r)||(s.comment=r),f(r)}),v("keydown.enter",function(r){h(e);let s=l(2);return f(s.onComment(r))}),p()(),b(55,Ls,11,4,"div",42),p()(),u(56,"div",43),w(57,"button",44),u(58,"button",45),v("click",function(){h(e);let r=l(2);return f(r.onDelete())}),p(),w(59,"button",46),p()()}if(i&2){l();let e=ce(1),t=l();d(17),c("ngForOf",t.listNames),d(10),c("rows",5),G("ngModel",t.formValue.description),d(5),c("showTime",!1)("required",!0)("showIcon",!0),G("ngModel",t.formValue.startDate),d(4),c("showTime",!1)("required",!0)("showIcon",!0),G("ngModel",t.formValue.dueDate),d(),c("ngIf",t.formValue.taskList.tasks.length||t.showTaskContainer),d(),c("ngIf",t.formValue.taskList.tasks.length||t.showTaskContainer),d(4),c("appendTo",e),G("ngModel",t.formValue.assignees),c("suggestions",t.filteredAssignees)("multiple",!0)("showEmptyMessage",!0)("inputStyle",Ze(21,gs)),d(12),G("ngModel",t.comment),d(),c("ngForOf",t.formValue.comments)}}function Os(i,n){if(i&1){let e=k();u(0,"p-drawer",11,0),q("visibleChange",function(r){h(e);let s=l();return U(s.parent.sidebarVisible,r)||(s.parent.sidebarVisible=r),f(r)}),b(2,Ms,60,22,"ng-template",null,1,W),p()}if(i&2){let e=l();G("visible",e.parent.sidebarVisible),c("baseZIndex",1e4)("showCloseIcon",!1)}}var At=class i{constructor(n,e,t){this.parent=n;this.memberService=e;this.kanbanService=t;this.memberService.getMembers().then(r=>this.assignees=r),this.cardSubscription=this.kanbanService.selectedCard$.subscribe(r=>{this.card=r,this.formValue=A({},r)}),this.listSubscription=this.kanbanService.selectedListId$.subscribe(r=>this.listId=r),this.listNameSubscription=this.kanbanService.listNames$.subscribe(r=>this.listNames=r)}card={id:"",taskList:{title:"Untitled Task List",tasks:[]}};formValue;listId="";filteredAssignees=[];assignees=[];newComment={id:"123",name:"Jane Cooper",text:""};newTask={text:"",completed:!1};comment="";taskContent="";timeout=null;showTaskContainer=!1;listNames=[];cardSubscription;listSubscription;listNameSubscription;inputTitle;inputTaskListTitle;ngOnDestroy(){this.cardSubscription.unsubscribe(),this.listSubscription.unsubscribe(),this.listNameSubscription.unsubscribe(),clearTimeout(this.timeout)}close(){this.parent.sidebarVisible=!1,this.resetForm()}filterAssignees(n){let e=[],t=n.query;for(let r=0;r<this.assignees.length;r++){let s=this.assignees[r];s.name&&s.name.toLowerCase().indexOf(t.toLowerCase())==0&&e.push(s)}this.filteredAssignees=e}onComment(n){n.preventDefault(),this.comment.trim().length>0&&(this.newComment=Z(A({},this.newComment),{text:this.comment}),this.formValue?.comments?.unshift(this.newComment),this.comment="")}onSave(n){n.preventDefault(),this.card=A({},this.formValue),this.kanbanService.updateCard(this.card,this.listId),this.close()}onMove(n){this.kanbanService.moveCard(this.formValue,n,this.listId)}onDelete(){this.kanbanService.deleteCard(this.formValue?.id||"",this.listId),this.parent.sidebarVisible=!1,this.resetForm()}resetForm(){this.formValue={id:"",taskList:{title:"Untitled Task List",tasks:[]}}}addTaskList(){if(this.showTaskContainer=!this.showTaskContainer,this.showTaskContainer){if(!this.formValue.taskList){let n=this.kanbanService.generateId();this.formValue=Z(A({},this.formValue),{taskList:{id:n,title:"Untitled Task List",tasks:[]}})}}else return}addTask(n){n.preventDefault(),this.taskContent.trim().length>0&&(this.newTask={text:this.taskContent,completed:!1},this.formValue.taskList?.tasks.unshift(this.newTask),this.taskContent="",this.calculateProgress())}focus(n){n==1&&(this.timeout=setTimeout(()=>this.inputTitle.nativeElement.focus(),1)),n==2&&(this.timeout=setTimeout(()=>this.inputTaskListTitle.nativeElement.focus(),1))}calculateProgress(){if(this.formValue.taskList){let n=this.formValue.taskList.tasks.filter(e=>e.completed).length;this.formValue.progress=Math.round(100*(n/this.formValue.taskList.tasks.length))}}static \u0275fac=function(e){return new(e||i)(F(Qe),F(En),F(se))};static \u0275cmp=R({type:i,selectors:[["kanban-sidebar"]],viewQuery:function(e,t){if(e&1&&(le(fs,5),le(_s,5)),e&2){let r;T(r=P())&&(t.inputTitle=r.first),T(r=P())&&(t.inputTaskListTitle=r.first)}},decls:1,vars:1,consts:[["sidebar",""],["headless",""],["inplace",""],["display",""],["content",""],["action1",""],["selecteditem",""],["item",""],["inputTitle",""],["inputTaskListTitle",""],["position","right","styleClass","!w-full lg:!w-[50rem] overflow-auto",3,"visible","baseZIndex","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","!w-full lg:!w-[50rem] overflow-auto",3,"visibleChange","visible","baseZIndex","showCloseIcon"],[3,"submit"],[1,"px-6","py-12","border-b","border-surface","flex","items-center","justify-between","h-16"],[1,"flex","relative"],["pButton","","pRipple","","type","button","icon","pi pi-cog","severity","secondary","rounded","","text","","pTooltip","Card Actions","tooltipPosition","left","pStyleClass","#op","enterFromClass","!hidden","leaveToClass","!hidden"],["pButton","","pRipple","","type","button","icon","pi pi-times","severity","secondary","rounded","","text","",3,"click"],["id","op",1,"card","z-50","absolute","shadow-md","!rounded-md","border","border-gray-100","dark:!border-gray-600","!hidden",2,"right","50px","top","45px"],[1,"grid","grid-cols-12","gap-4","flex-col","w-60"],[1,"col-span-12","flex","flex-col"],[1,"text-surface-900","dark:text-surface-0","font-semibold","block","w-full","border-b","border-surface","pb-4","mb-2"],["pRipple","","class","text-surface-700 dark:text-surface-100 block p-2 cursor-pointer hover:bg-surface-50 dark:hover:bg-surface-950 select-none rounded-border",3,"click",4,"ngFor","ngForOf"],["pRipple","",1,"text-surface-700","dark:text-surface-100","block","p-2","cursor-pointer","hover:bg-surface-50","dark:hover:bg-surface-950","select-none","rounded-border",3,"click"],[1,"grid","grid-cols-12","gap-8","pt-8","flex-wrap","flex-1","flex-col"],[1,"col-span-12","field","px-8","flex","flex-col","gap-4"],["for","start",1,"block","text-surface-900","dark:text-surface-0","font-semibold","text-lg"],["id","description","name","description","type","text","pTextarea","",1,"w-full",2,"resize","none",3,"ngModelChange","rows","ngModel"],[1,"col-span-12","px-8","flex","gap-4"],[1,"flex","flex-col","field","w-full","gap-4"],["name","startDate","dateFormat","yy-mm-dd","inputId","start","inputStyleClass","w-full text-surface-900 dark:text-surface-0 font-semibold","styleClass","w-full",3,"ngModelChange","showTime","required","showIcon","ngModel"],["for","due",1,"block","text-surface-900","dark:text-surface-0","font-semibold","text-lg"],["name","endDate","dateFormat","yy-mm-dd","inputId","due","inputStyleClass","w-full text-surface-900 dark:text-surface-0 font-semibold","styleClass","w-full",3,"ngModelChange","showTime","required","showIcon","ngModel"],["class","col-span-12 flex flex-col px-8",4,"ngIf"],[1,"col-span-12","flex","flex-col","field","px-8"],["for","assignees",1,"block","text-surface-900","dark:text-surface-0","font-semibold","mb-4","text-lg"],["name","assignees","field","name","emptyMessage","No results found","placeholder","Choose assignees","styleClass","w-full","inputStyleClass","w-full",3,"ngModelChange","completeMethod","appendTo","ngModel","suggestions","multiple","showEmptyMessage","inputStyle"],[1,"col-span-12","flex","flex-col","gap-y-6","px-8","mb-12"],[1,"block","text-surface-900","dark:text-surface-0","font-semibold","text-lg"],[1,"flex","items-center"],[1,"w-[3.5rem]","h-[3.25rem]","rounded-full","flex","items-center","justify-center","mr-4","bg-surface-200","dark:bg-surface-800"],[1,"pi","pi-user"],["type","text","pTextarea","","name","comment","placeholder","Write a comment...",1,"w-full",2,"resize","none",3,"ngModelChange","keydown.enter","ngModel"],["class","flex items-center rounded-border",4,"ngFor","ngForOf"],[1,"flex","w-full","justify-end","border-t","border-surface","py-8","px-8","gap-4"],["pButton","","pRipple","","type","button","icon","pi pi-paperclip",1,"p-button-outlined","p-button-secondary","border-surface","text-surface-900","dark:text-surface-0","w-12","h-12"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-outlined","p-button-secondary","border-surface","text-surface-900","dark:text-surface-0","w-12","h-12",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-check","label","Save",1,"p-button-primary","h-12"],["pTooltip","Click to edit",1,"text-surface-900","dark:text-surface-0","font-semibold","text-lg"],[1,"inline-flex","items-center","gap-1","h-10"],["type","text","name","title","autofocus","","pInputText","",1,"h-full","!rounded-r-none",3,"ngModelChange","keydown.enter","ngModel"],["pButton","","icon","pi pi-check",1,"!rounded-l-none","!h-10",3,"click"],[1,"col-span-12","flex","flex-col","px-8"],[1,"flex","justify-between","mb-4"],[1,"text-surface-900","dark:text-surface-0","font-semibold","text-lg"],[1,"text-surface-900","dark:text-surface-0","font-semibold"],["name","progress","styleClass","!h-1",3,"value","showValue"],[1,"h-16","-mb-6"],["type","text","pTextarea","","name","taskContent","placeholder","Add a task",1,"w-full","mt-6","mb-6",2,"resize","none",3,"ngModelChange","keydown.enter","ngModel"],["class","list-none p-6 flex flex-col gap-4 bg-surface-50 dark:bg-surface-950 border-surface border rounded-border",4,"ngIf"],[1,"list-none","p-6","flex","flex-col","gap-4","bg-surface-50","dark:bg-surface-950","border-surface","border","rounded-border"],["class","flex items-center gap-4",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4"],[3,"ngModelChange","onChange","name","ngModel","binary","inputId"],[2,"word-break","break-all",3,"ngClass"],[1,"flex","items-center","gap-2","border","rounded-full","dark:!border-gray-600","p-2"],[1,"flex","gap-2","items-center"],[1,"h-8","w-8","border-2","rounded-full","border-surface",3,"src","alt"],[1,"text-surface-900","dark:text-surface-0"],[1,"flex","items-center","gap-2","rounded-border"],[1,"flex","items-center","rounded-border"],["class","w-[3.5rem] h-[3.25rem] rounded-full flex items-center justify-center",4,"ngIf"],["class","w-[3.5rem] h-[3.25rem] rounded-full flex items-center justify-center bg-surface-200 dark:bg-surface-800",4,"ngIf"],[1,"ml-4","w-full"],[1,"flex","justify-between","mb-2"],[1,"block","text-surface-900","dark:text-surface-0"],[1,"block","text-surface-700","dark:text-surface-100"],[1,"block","text-surface-900","dark:text-surface-0","border","bg-surface-50","dark:bg-surface-950","border-surface","p-2","rounded-border",2,"word-break","break-all"],[1,"w-[3.5rem]","h-[3.25rem]","rounded-full","flex","items-center","justify-center"],[3,"src"],[1,"w-[3.5rem]","h-[3.25rem]","rounded-full","flex","items-center","justify-center","bg-surface-200","dark:bg-surface-800"]],template:function(e,t){e&1&&b(0,Os,4,3,"p-drawer",10),e&2&&c("ngIf",t.formValue)},dependencies:[L,de,ue,X,Dt,un,It,Ct,dn,mn,St,pn,_n,fn,On,ze,Lt,Vt,st,Pn,Tn,Ft,ot,Rt,In,xn,Et,Pt,Ln,Rn,he,me,Te,re,kn,Dn,Bn,vn,bn],styles:["[_nghost-%COMP%]     .p-drawer .p-drawer-content{padding:0;display:flex;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}[_nghost-%COMP%]     .p-autocomplete .p-autocomplete-chip-item{display:flex}[_nghost-%COMP%]     div.p-inplace-display{padding-left:0!important}"]})};var vi;function Vs(){if(vi==null){let i=typeof document<"u"?document.head:null;vi=!!(i&&(i.createShadowRoot||i.attachShadow))}return vi}function Nt(i){if(Vs()){let n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function at(i){return i.composedPath?i.composedPath()[0]:i.target}function Hn(i){return i.buttons===0||i.detail===0}function $n(i){let n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function zt(i,n=0){return Fs(i)?Number(i):arguments.length===2?n:0}function Fs(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function fe(i){return i instanceof ve?i.nativeElement:i}function Ee(i,n,e,t,r){let s=parseInt(ci.major),o=parseInt(ci.minor);return s>19||s===19&&o>0||s===0&&o===0?i.listen(n,e,t,r):(n.addEventListener(e,t,r),()=>{n.removeEventListener(e,t,r)})}var Bt=new WeakMap,jn=(()=>{class i{_appRef;_injector=_(et);_environmentInjector=_(Zi);load(e){let t=this._appRef=this._appRef||this._injector.get(Qi),r=Bt.get(t);r||(r={loaders:new Set,refs:[]},Bt.set(t,r),t.onDestroy(()=>{Bt.get(t)?.refs.forEach(s=>s.destroy()),Bt.delete(t)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(en(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var yi;try{yi=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yi=!1}var wi=(()=>{class i{_platformId=_(qi);isBrowser=this._platformId?ne(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||yi)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var As=new be("cdk-dir-doc",{providedIn:"root",factory:Ns});function Ns(){return _(Ve)}var zs=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Bs(i){let n=i?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?zs.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var xi=(()=>{class i{value="ltr";change=new S;constructor(){let e=_(As,{optional:!0});if(e){let t=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=Bs(t||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Hs=20,Wn=(()=>{class i{_ngZone=_(pe);_platform=_(wi);_renderer=_($e).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new C;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Hs){return this._platform.isBrowser?new Je(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(ei(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):zi()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Hi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_scrollableContainsElement(e,t){let r=fe(t),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $s=20,Zn=(()=>{class i{_platform=_(wi);_listeners;_viewportSize;_change=new C;_document=_(Ve,{optional:!0});constructor(){let e=_(pe),t=_($e).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=s=>this._change.next(s);this._listeners=[t.listen("window","resize",r),t.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),o=-s.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,a=-s.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:o,left:a}}change(e=$s){return e>0?this._change.pipe(ei(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Gn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({})}return i})();var Ii={},Un=(()=>{class i{_appId=_(Ui);getId(e){return this._appId!=="ng"&&(e+=this._appId),Ii.hasOwnProperty(e)||(Ii[e]=0),`${e}${Ii[e]++}`}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function qn(i){return Array.isArray(i)?i:[i]}function cr(i){let n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return t==="canvas"?Xn(i,n):(t==="input"||t==="select"||t==="textarea")&&Yn(i,n),Qn("canvas",i,n,Xn),Qn("input, textarea, select",i,n,Yn),n}function Qn(i,n,e,t){let r=n.querySelectorAll(i);if(r.length){let s=e.querySelectorAll(i);for(let o=0;o<r.length;o++)t(r[o],s[o])}}var js=0;function Yn(i,n){n.type!=="file"&&(n.value=i.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${js++}`)}function Xn(i,n){let e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function Li(i){let n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Di(i,n,e){let{top:t,bottom:r,left:s,right:o}=i;return e>=t&&e<=r&&n>=s&&n<=o}function dt(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function Jn(i,n,e,t){let{top:r,right:s,bottom:o,left:a,width:m,height:g}=i,y=m*n,V=g*n;return t>r-V&&t<o+V&&e>a-y&&e<s+y}var Kt=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Li(e)})})}handleScroll(n){let e=at(n),t=this.positions.get(e);if(!t)return null;let r=t.scrollPosition,s,o;if(e===this._document){let g=this.getViewportScrollPosition();s=g.top,o=g.left}else s=e.scrollTop,o=e.scrollLeft;let a=r.top-s,m=r.left-o;return this.positions.forEach((g,y)=>{g.clientRect&&e!==y&&e.contains(y)&&dt(g.clientRect,a,m)}),r.top=s,r.left=o,{top:a,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function dr(i,n){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let t=n.createElement("div");return e.forEach(r=>t.appendChild(r)),t}function Mi(i,n,e){for(let t in n)if(n.hasOwnProperty(t)){let r=n[t];r?i.setProperty(t,r,e?.has(t)?"important":""):i.removeProperty(t)}return i}function Ye(i,n){let e=n?"":"none";Mi(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function er(i,n,e){Mi(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Ht(i,n){return n&&n!="none"?i+" "+n:i}function tr(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=$t(n.left,n.top)}function $t(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function ir(i){let n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function Ws(i){let n=getComputedStyle(i),e=Ci(n,"transition-property"),t=e.find(a=>a==="transform"||a==="all");if(!t)return 0;let r=e.indexOf(t),s=Ci(n,"transition-duration"),o=Ci(n,"transition-delay");return ir(s[r])+ir(o[r])}function Ci(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}var Zs=new Set(["position"]),ki=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,t,r,s,o,a,m,g,y){this._document=n,this._rootElement=e,this._direction=t,this._initialDomRect=r,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=m,this._zIndex=g,this._renderer=y}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),nr(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return Ws(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,t=n?n.template:null,r;if(t&&n){let s=n.matchSize?this._initialDomRect:null,o=n.viewContainer.createEmbeddedView(t,n.context);o.detectChanges(),r=dr(o,this._document),this._previewEmbeddedView=o,n.matchSize?tr(r,s):r.style.transform=$t(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=cr(this._rootElement),tr(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Mi(r.style,{"pointer-events":"none",margin:nr(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Zs),Ye(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}};function nr(i){return"showPopover"in i}var Gs={passive:!0},rr={passive:!1},Us={passive:!1,capture:!0},qs=800,sr=new Set(["position"]),Ti=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Re(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new C;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=ge.EMPTY;_pointerUpSubscription=ge.EMPTY;_scrollSubscription=ge.EMPTY;_resizeSubscription=ge.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ye(e,n)))}_disabled=!1;beforeStarted=new C;started=new C;released=new C;ended=new C;entered=new C;exited=new C;dropped=new C;moved=this._moveEvents;data;constrainPosition;constructor(n,e,t,r,s,o,a){this._config=e,this._document=t,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._renderer=a,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Kt(t),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>fe(t)),this._handles.forEach(t=>Ye(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=fe(n);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Ee(this._renderer,e,"mousedown",this._pointerDown,rr),Ee(this._renderer,e,"touchstart",this._pointerDown,Gs),Ee(this._renderer,e,"dragstart",this._nativeDragStart,rr)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?fe(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Ye(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Ye(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),s=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+s>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),m=this._dropContainer;if(!a){this._endDragSequence(n);return}(!m||!m.isDragging()&&!m.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=t.x-r.x+this._passiveTransform.x,s.y=t.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:n,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){lt(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Ee(this._renderer,e,"selectstart",Qs,Us)}),t){let r=this._rootElement,s=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new ki(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,e)),er(r,!1,sr),this._document.body.appendChild(s.replaceChild(o,r)),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),r=lt(e),s=!r&&e.button!==0,o=this._rootElement,a=at(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+qs>Date.now(),g=r?$n(e):Hn(e);if(a&&a.draggable&&e.type==="mousedown"&&e.preventDefault(),t||s||m||g)return;if(this._handles.length){let H=o.style;this._rootElementTapHighlight=H.webkitTapHighlightColor||"",H.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(H=>this._updateOnScroll(H)),this._boundaryElement&&(this._boundaryRect=Li(this._boundaryElement));let y=this._previewTemplate;this._pickupPositionInElement=y&&y.template&&!y.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let V=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:V.x,y:V.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){er(this._rootElement,!0,sr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),r=this._getPointerPositionOnPage(n),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:n}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:n}),e.drop(this,t,this._initialIndex,this._initialContainer,o,s,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,r),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let r=a=>{(!a||this._preview&&at(a)===this._preview.element&&a.propertyName==="transform")&&(o(),t(),clearTimeout(s))},s=setTimeout(r,e*1.5),o=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=dr(this._placeholderRef,this._document)):t=cr(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(n,e,t){let r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():n,o=lt(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition(),m=o.pageX-s.left-a.left,g=o.pageY-s.top-a.top;return{x:s.left-n.left+m,y:s.top-n.top+g}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),t=lt(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=t.pageX-e.left,s=t.pageY-e.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:r}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:m,height:g}=this._getPreviewRect(),y=a.top+o,V=a.bottom-(g-o),H=a.left+s,_e=a.right-(m-s);t=or(t,H,_e),r=or(r,y,V)}return{x:t,y:r}}_updatePointerDirectionDelta(n){let{x:e,y:t}=n,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(t-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=t>s.y?1:-1,s.y=t),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Ye(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let t=1/this.scale,r=$t(n*t,e*t),s=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=s.transform&&s.transform!="none"?s.transform:""),s.transform=Ht(r,this._initialTransform)}_applyPreviewTransform(n,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,r=$t(n,e);this._preview.setTransform(Ht(r,t))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||t.width===0&&t.height===0)return;let s=r.left-t.left,o=t.right-r.right,a=r.top-t.top,m=t.bottom-r.bottom;r.width>t.width?(s>0&&(n+=s),o>0&&(n-=o)):n=0,r.height>t.height?(a>0&&(e+=a),m>0&&(e-=m)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:lt(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let t=at(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&dt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Nt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let t=this._previewContainer||"global";if(t==="parent")return n;if(t==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return fe(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}};function or(i,n,e){return Math.max(n,Math.min(e,i))}function lt(i){return i.type[0]==="t"}function Qs(i){i.preventDefault()}function Xe(i,n,e){let t=jt(n,i.length-1),r=jt(e,i.length-1);if(t===r)return;let s=i[t],o=r<t?-1:1;for(let a=t;a!==r;a+=o)i[a]=i[a+o];i[r]=s}function pr(i,n,e,t){let r=jt(e,i.length-1),s=jt(t,n.length);i.length&&n.splice(s,0,i.splice(r,1)[0])}function jt(i,n){return Math.max(0,Math.min(n,i))}var Wt=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,t,r){let s=this._itemPositions,o=this._getItemIndexFromPointerPosition(n,e,t,r);if(o===-1&&s.length>0)return null;let a=this.orientation==="horizontal",m=s.findIndex(J=>J.drag===n),g=s[o],y=s[m].clientRect,V=g.clientRect,H=m>o?1:-1,_e=this._getItemOffsetPx(y,V,H),pt=this._getSiblingOffsetPx(m,s,H),xr=s.slice();return Xe(s,m,o),s.forEach((J,Ir)=>{if(xr[Ir]===J)return;let Fi=J.drag===n,Xt=Fi?_e:pt,Ai=Fi?n.getPlaceholderElement():J.drag.getRootElement();J.offset+=Xt;let Ni=Math.round(J.offset*(1/J.drag.scale));a?(Ai.style.transform=Ht(`translate3d(${Ni}px, 0, 0)`,J.initialTransform),dt(J.clientRect,0,Xt)):(Ai.style.transform=Ht(`translate3d(0, ${Ni}px, 0)`,J.initialTransform),dt(J.clientRect,Xt,0))}),this._previousSwap.overlaps=Di(V,e,t),this._previousSwap.drag=g.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:m,currentIndex:o}}enter(n,e,t,r){let s=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,t):r,o=this._activeDraggables,a=o.indexOf(n),m=n.getPlaceholderElement(),g=o[s];if(g===n&&(g=o[s+1]),!g&&(s==null||s===-1||s<o.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(g=o[0]),a>-1&&o.splice(a,1),g&&!this._dragDropRegistry.isDragging(g)){let y=g.getRootElement();y.parentElement.insertBefore(m,y),o.splice(s,0,n)}else this._element.appendChild(m),o.push(n);m.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let t=this._itemPositions.find(r=>r.drag===n)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:t})=>{dt(t,n,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Li(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(n,e,t){let r=this.orientation==="horizontal",s=r?e.left-n.left:e.top-n.top;return t===-1&&(s+=r?e.width-n.width:e.height-n.height),s}_getSiblingOffsetPx(n,e,t){let r=this.orientation==="horizontal",s=e[n].clientRect,o=e[n+t*-1],a=s[r?"width":"height"]*t;if(o){let m=r?"left":"top",g=r?"right":"bottom";t===-1?a-=o.clientRect[m]-s[g]:a+=s[m]-o.clientRect[g]}return a}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,r=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let o=t[t.length-1].clientRect;return r?n>=o.right:e>=o.bottom}else{let o=t[0].clientRect;return r?n<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(n,e,t,r){let s=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:a,clientRect:m})=>{if(a===n)return!1;if(r){let g=s?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return s?e>=Math.floor(m.left)&&e<Math.floor(m.right):t>=Math.floor(m.top)&&t<Math.floor(m.bottom)});return o===-1||!this._sortPredicate(o,n)?-1:o}},Pi=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let r=e[t];this._relatedNodes.push([r,r.nextSibling])}this.withItems(n)}sort(n,e,t,r){let s=this._getItemIndexFromPointerPosition(n,e,t),o=this._previousSwap;if(s===-1||this._activeItems[s]===n)return null;let a=this._activeItems[s];if(o.drag===a&&o.overlaps&&o.deltaX===r.x&&o.deltaY===r.y)return null;let m=this.getItemIndex(n),g=n.getPlaceholderElement(),y=a.getRootElement();s>m?y.after(g):y.before(g),Xe(this._activeItems,m,s);let V=this._getRootNode().elementFromPoint(e,t);return o.deltaX=r.x,o.deltaY=r.y,o.drag=a,o.overlaps=y===V||y.contains(V),{previousIndex:m,currentIndex:s}}enter(n,e,t,r){let s=r==null||r<0?this._getItemIndexFromPointerPosition(n,e,t):r;s===-1&&(s=this._getClosestItemIndexToPointer(n,e,t));let o=this._activeItems[s],a=this._activeItems.indexOf(n);a>-1&&this._activeItems.splice(a,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(s,0,n),o.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[r,s]=this._relatedNodes[t];r.parentNode===n&&r.nextSibling!==s&&(s===null?n.appendChild(r):s.parentNode===n&&n.insertBefore(r,s))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,t){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),s=r?this._activeItems.findIndex(o=>{let a=o.getRootElement();return r===a||a.contains(r)}):-1;return s===-1||!this._sortPredicate(s,n)?-1:s}_getRootNode(){return this._rootNode||(this._rootNode=Nt(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,s=-1;for(let o=0;o<this._activeItems.length;o++){let a=this._activeItems[o];if(a!==n){let{x:m,y:g}=a.getRootElement().getBoundingClientRect(),y=Math.hypot(e-m,t-g);y<r&&(r=y,s=o)}}return s}},ar=.05,ur=.05,oe=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(oe||{}),K=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(K||{}),Ei=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new C;entered=new C;exited=new C;dropped=new C;sorted=new C;receivingStarted=new C;receivingStopped=new C;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=ge.EMPTY;_verticalScrollDirection=oe.NONE;_horizontalScrollDirection=K.NONE;_scrollNode;_stopScrollTimers=new C;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,t,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s;let o=this.element=fe(n);this._document=t,this.withOrientation("vertical").withElementContainer(o),e.registerDropContainer(this),this._parentPositions=new Kt(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,t,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,r,s,o,a,m={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:m})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>n.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof Wt&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new Pi(this._document,this._dragDropRegistry);else{let e=new Wt(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=fe(this.element),t=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(n);return t>-1&&this._scrollableElements.splice(t,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,r){if(this.sortingDisabled||!this._domRect||!Jn(this._domRect,ar,e,t))return;let s=this._sortStrategy.sort(n,e,t,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,r=oe.NONE,s=K.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||t||Jn(o.clientRect,ar,n,e)&&([r,s]=Ys(a,o.clientRect,this._direction,n,e),(r||s)&&(t=a))}),!r&&!s){let{width:o,height:a}=this._viewportRuler.getViewportSize(),m={width:o,height:a,top:0,right:o,bottom:a,left:0};r=mr(m,e),s=hr(m,n),t=window}t&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=t,(r||s)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ki(0,Jt).pipe(Ke(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===oe.UP?n.scrollBy(0,-e):this._verticalScrollDirection===oe.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===K.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===K.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&Di(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(r=>r._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._domRect||!Di(this._domRect,e,t)||!this.enterPredicate(n,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,t);return r?r===this._container||this._container.contains(r):!1}_startReceiving(n,e){let t=this._activeSiblings;!t.has(n)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=Nt(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function mr(i,n){let{top:e,bottom:t,height:r}=i,s=r*ur;return n>=e-s&&n<=e+s?oe.UP:n>=t-s&&n<=t+s?oe.DOWN:oe.NONE}function hr(i,n){let{left:e,right:t,width:r}=i,s=r*ur;return n>=e-s&&n<=e+s?K.LEFT:n>=t-s&&n<=t+s?K.RIGHT:K.NONE}function Ys(i,n,e,t,r){let s=mr(n,r),o=hr(n,t),a=oe.NONE,m=K.NONE;if(s){let g=i.scrollTop;s===oe.UP?g>0&&(a=oe.UP):i.scrollHeight-g>i.clientHeight&&(a=oe.DOWN)}if(o){let g=i.scrollLeft;e==="rtl"?o===K.RIGHT?g<0&&(m=K.RIGHT):i.scrollWidth+g>i.clientWidth&&(m=K.LEFT):o===K.LEFT?g>0&&(m=K.LEFT):i.scrollWidth-g>i.clientWidth&&(m=K.RIGHT)}return[a,m]}var ct={capture:!0},Si={passive:!1,capture:!0},Xs=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return i})(),Oi=(()=>{class i{_ngZone=_(pe);_document=_(Ve);_styleLoader=_(jn);_renderer=_($e).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Re([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new C;pointerUp=new C;scroll=new C;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=Ee(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Si)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Xs),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=t.type.startsWith("touch"),s=a=>this.pointerUp.next(a),o=[["scroll",a=>this.scroll.next(a),ct],["selectstart",this._preventDefaultWhileDragging,Si]];r?o.push(["touchend",s,ct],["touchcancel",s,ct]):o.push(["mouseup",s,ct]),r||o.push(["mousemove",a=>this.pointerMove.next(a),Si]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=o.map(([a,m,g])=>Ee(this._renderer,this._document,a,m,g))})}}stopDragging(e){this._activeDragInstances.update(t=>{let r=t.indexOf(e);return r>-1?(t.splice(r,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new Je(r=>this._ngZone.runOutsideAngular(()=>{let s=Ee(this._renderer,e,"scroll",o=>{this._activeDragInstances().length&&r.next(o)},ct);return()=>{s()}}))),mt(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Js={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Vi=(()=>{class i{_document=_(Ve);_ngZone=_(pe);_viewportRuler=_(Zn);_dragDropRegistry=_(Oi);_renderer=_($e).createRenderer(null,null);constructor(){}createDrag(e,t=Js){return new Ti(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Ei(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ri=new be("CDK_DRAG_PARENT");var fr=new be("CdkDragHandle"),Zt=(()=>{class i{element=_(ve);_parentDrag=_(Ri,{optional:!0,skipSelf:!0});_dragDropRegistry=_(Oi);_stateChanges=new C;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let t=this._dragDropRegistry.getDragDirectiveForNode(e);if(t){this._parentDrag=t,t._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=tt({type:i,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",D]},features:[z([{provide:fr,useExisting:i}])]})}return i})(),_r=new be("CDK_DRAG_CONFIG"),gr=new be("CdkDropList"),Gt=(()=>{class i{element=_(ve);dropContainer=_(gr,{optional:!0,skipSelf:!0});_ngZone=_(pe);_viewContainerRef=_(li);_dir=_(xi,{optional:!0});_changeDetectorRef=_(gt);_selfHandle=_(fr,{optional:!0,self:!0});_parentDrag=_(Ri,{optional:!0,skipSelf:!0});_dragDropRegistry=_(Oi);_destroyed=new C;_handles=new ut([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new S;released=new S;ended=new S;entered=new S;exited=new S;dropped=new S;moved=new Je(e=>{let t=this._dragRef.moved.pipe(Bi(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=_(et);constructor(){let e=this.dropContainer,t=_(_r,{optional:!0}),r=_(Vi);this._dragRef=r.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(Ke(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){ri(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,r=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),r=t.indexOf(e);r>-1&&(t.splice(r,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):fe(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:zt(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe($i(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let r=this._dragDropRegistry.getDragDirectiveForNode(t);if(r){e.withParent(r._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:a,draggingDisabled:m,rootElementSelector:g,previewContainer:y}=e;this.disabled=m??!1,this.dragStartDelay=r||0,t&&(this.lockAxis=t),s&&(this.constrainPosition=s),o&&(this.previewClass=o),a&&(this.boundaryElement=a),g&&(this.rootElementSelector=g),y&&(this.previewContainer=y)}_setupHandlesListener(){this._handles.pipe(ji(e=>{let t=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),ti(e=>mt(...e.map(t=>t._stateChanges.pipe(ht(t))))),Ke(this._destroyed)).subscribe(e=>{let t=this._dragRef,r=e.element.nativeElement;e.disabled?t.disableHandle(r):t.enableHandle(r)})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=tt({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){t&2&&ft("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",D],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ie]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[z([{provide:Ri,useExisting:i}]),ni]})}return i})(),lr=new be("CdkDropListGroup");var Ut=(()=>{class i{element=_(ve);_changeDetectorRef=_(gt);_scrollDispatcher=_(Wn);_dir=_(xi,{optional:!0});_group=_(lr,{optional:!0,skipSelf:!0});_destroyed=new C;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=_(Un).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new S;entered=new S;exited=new S;sorted=new S;_unsortedItems=new Set;constructor(){let e=_(Vi),t=_(_r,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(r,s)=>this.enterPredicate(r.data,s.data),this._dropListRef.sortPredicate=(r,s,o)=>this.sortPredicate(r,s.data,o.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(ht(this._dir.value),Ke(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=qn(this.connectedTo).map(r=>{if(typeof r=="string"){let s=i._dropLists.find(o=>o.id===r);return s}return r});if(this._group&&this._group._items.forEach(r=>{t.indexOf(r)===-1&&t.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=zt(this.autoScrollStep,2),e.connectedTo(t.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),mt(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=tt({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){t&2&&(I("id",r.id),ft("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",D],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",D],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",D],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[z([{provide:lr,useValue:void 0},{provide:gr,useExisting:i}])]})}return i})();var br=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({providers:[Vi],imports:[Gn]})}return i})();var to=["sublist"],io=(i,n)=>({"p-tieredmenu-submenu":i,"p-tieredmenu-root-list":n}),yr=i=>({"p-tieredmenu-item-link":!0,"p-disabled":i}),no=()=>({exact:!1}),ro=(i,n)=>({$implicit:i,hasSubmenu:n}),so=i=>({display:i});function oo(i,n){if(i&1&&w(0,"li",7),i&2){let e=l().$implicit,t=l();_t(t.getItemProp(e,"style")),c("ngClass",t.getSeparatorItemClass(e)),I("id",t.getItemId(e))("data-pc-section","separator")}}function ao(i,n){if(i&1&&w(0,"span",18),i&2){let e=l(4).$implicit,t=l();c("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),I("data-pc-section","icon")("tabindex",-1)}}function lo(i,n){if(i&1&&(u(0,"span",19),x(1),p()),i&2){let e=l(4).$implicit,t=l();I("data-pc-section","label"),d(),We(" ",t.getItemLabel(e)," ")}}function co(i,n){if(i&1&&w(0,"span",20),i&2){let e=l(4).$implicit,t=l();c("innerHTML",t.getItemLabel(e),si),I("data-pc-section","label")}}function po(i,n){if(i&1&&(u(0,"span",21),x(1),p()),i&2){let e=l(4).$implicit,t=l();c("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),O(t.getItemProp(e,"badge"))}}function uo(i,n){i&1&&w(0,"AngleRightIcon",24),i&2&&(c("ngClass","p-tieredmenu-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function mo(i,n){}function ho(i,n){i&1&&b(0,mo,0,0,"ng-template",25),i&2&&c("data-pc-section","submenuicon")("aria-hidden",!0)}function fo(i,n){if(i&1&&(Le(0),b(1,uo,1,3,"AngleRightIcon",22)(2,ho,1,2,null,23),Me()),i&2){let e=l(5);d(),c("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),d(),c("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function _o(i,n){if(i&1&&(u(0,"a",14),b(1,ao,1,4,"span",15)(2,lo,2,2,"span",16)(3,co,1,2,"ng-template",null,2,W)(5,po,2,2,"span",17)(6,fo,3,2,"ng-container",10),p()),i&2){let e=ce(4),t=l(3).$implicit,r=l();c("target",r.getItemProp(t,"target"))("ngClass",Q(11,yr,r.getItemProp(t,"disabled"))),I("href",r.getItemProp(t,"url"),He)("data-automationid",r.getItemProp(t,"automationId"))("data-pc-section","action")("tabindex",-1),d(),c("ngIf",r.getItemProp(t,"icon")),d(),c("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),d(3),c("ngIf",r.getItemProp(t,"badge")),d(),c("ngIf",r.isItemGroup(t))}}function go(i,n){if(i&1&&w(0,"span",18),i&2){let e=l(4).$implicit,t=l();c("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),I("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function bo(i,n){if(i&1&&(u(0,"span",19),x(1),p()),i&2){let e=l(4).$implicit,t=l();I("data-pc-section","label"),d(),We(" ",t.getItemLabel(e)," ")}}function vo(i,n){if(i&1&&w(0,"span",20),i&2){let e=l(4).$implicit,t=l();c("innerHTML",t.getItemLabel(e),si),I("data-pc-section","label")}}function yo(i,n){if(i&1&&(u(0,"span",21),x(1),p()),i&2){let e=l(4).$implicit,t=l();c("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),O(t.getItemProp(e,"badge"))}}function wo(i,n){i&1&&w(0,"AngleRightIcon",24),i&2&&(c("ngClass","p-tieredmenu-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function xo(i,n){}function Io(i,n){i&1&&b(0,xo,0,0,"ng-template",25),i&2&&c("data-pc-section","submenuicon")("aria-hidden",!0)}function Co(i,n){if(i&1&&(Le(0),b(1,wo,1,3,"AngleRightIcon",22)(2,Io,1,2,null,23),Me()),i&2){let e=l(5);d(),c("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),d(),c("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function So(i,n){if(i&1&&(u(0,"a",26),b(1,go,1,5,"span",15)(2,bo,2,2,"span",16)(3,vo,1,2,"ng-template",null,2,W)(5,yo,2,2,"span",17)(6,Co,3,2,"ng-container",10),p()),i&2){let e=ce(4),t=l(3).$implicit,r=l();c("routerLink",r.getItemProp(t,"routerLink"))("queryParams",r.getItemProp(t,"queryParams"))("routerLinkActive","p-tieredmenu-item-link-active")("routerLinkActiveOptions",r.getItemProp(t,"routerLinkActiveOptions")||Ze(20,no))("target",r.getItemProp(t,"target"))("ngClass",Q(21,yr,r.getItemProp(t,"disabled")))("fragment",r.getItemProp(t,"fragment"))("queryParamsHandling",r.getItemProp(t,"queryParamsHandling"))("preserveFragment",r.getItemProp(t,"preserveFragment"))("skipLocationChange",r.getItemProp(t,"skipLocationChange"))("replaceUrl",r.getItemProp(t,"replaceUrl"))("state",r.getItemProp(t,"state")),I("data-automationid",r.getItemProp(t,"automationId"))("tabindex",-1)("data-pc-section","action"),d(),c("ngIf",r.getItemProp(t,"icon")),d(),c("ngIf",r.getItemProp(t,"escape"))("ngIfElse",e),d(3),c("ngIf",r.getItemProp(t,"badge")),d(),c("ngIf",r.isItemGroup(t))}}function Do(i,n){if(i&1&&(Le(0),b(1,_o,7,13,"a",12)(2,So,7,23,"a",13),Me()),i&2){let e=l(2).$implicit,t=l();d(),c("ngIf",!t.getItemProp(e,"routerLink")),d(),c("ngIf",t.getItemProp(e,"routerLink"))}}function ko(i,n){}function To(i,n){i&1&&b(0,ko,0,0,"ng-template")}function Po(i,n){if(i&1&&(Le(0),b(1,To,1,0,null,27),Me()),i&2){let e=l(2).$implicit,t=l();d(),c("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Y(2,ro,e.item,t.getItemProp(e,"items")))}}function Eo(i,n){if(i&1){let e=k();u(0,"p-tieredmenusub",28),v("itemClick",function(r){h(e);let s=l(3);return f(s.itemClick.emit(r))})("itemMouseEnter",function(r){h(e);let s=l(3);return f(s.onItemMouseEnter(r))}),p()}if(i&2){let e=l(2).$implicit,t=l();c("items",e.items)("itemTemplate",t.itemTemplate)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath())("focusedItemId",t.focusedItemId)("ariaLabelledBy",t.getItemId(e))("level",t.level+1)("inlineStyles",Q(9,so,t.isItemActive(e)?"flex":"none"))}}function Ro(i,n){if(i&1){let e=k();u(0,"li",8,1)(2,"div",9),v("click",function(r){h(e);let s=l().$implicit,o=l();return f(o.onItemClick(r,s))})("mouseenter",function(r){h(e);let s=l().$implicit,o=l();return f(o.onItemMouseEnter({$event:r,processedItem:s}))}),b(3,Do,3,2,"ng-container",10)(4,Po,2,5,"ng-container",10),p(),b(5,Eo,1,11,"p-tieredmenusub",11),p()}if(i&2){let e=l(),t=e.$implicit,r=e.index,s=l();te(s.getItemProp(t,"styleClass")),c("ngStyle",s.getItemProp(t,"style"))("ngClass",s.getItemClass(t))("tooltipOptions",s.getItemProp(t,"tooltipOptions")),I("id",s.getItemId(t))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(t))("data-p-focused",s.isItemFocused(t))("data-p-disabled",s.isItemDisabled(t))("aria-label",s.getItemLabel(t))("aria-disabled",s.isItemDisabled(t)||void 0)("aria-haspopup",s.isItemGroup(t)&&!s.getItemProp(t,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(t)?s.isItemActive(t):void 0)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(r)),d(2),I("data-pc-section","content"),d(),c("ngIf",!s.itemTemplate),d(),c("ngIf",s.itemTemplate),d(),c("ngIf",s.isItemVisible(t)&&s.isItemGroup(t))}}function Lo(i,n){if(i&1&&b(0,oo,1,5,"li",5)(1,Ro,6,20,"li",6),i&2){let e=n.$implicit,t=l();c("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),d(),c("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}var Mo=["submenuicon"],Oo=["item"],Vo=["rootmenu"],Fo=["container"],Ao=(i,n)=>({"p-tieredmenu p-component":!0,"p-tieredmenu-mobile":i,"p-tieredmenu-overlay":n}),No=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),zo=i=>({value:"visible",params:i});function Bo(i,n){if(i&1){let e=k();u(0,"div",3,0),v("click",function(r){h(e);let s=l();return f(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){h(e);let s=l();return f(s.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){h(e);let s=l();return f(s.onOverlayAnimationEnd(r))}),u(2,"p-tieredMenuSub",4,1),v("itemClick",function(r){h(e);let s=l();return f(s.onItemClick(r))})("menuFocus",function(r){h(e);let s=l();return f(s.onMenuFocus(r))})("menuBlur",function(r){h(e);let s=l();return f(s.onMenuBlur(r))})("menuKeydown",function(r){h(e);let s=l();return f(s.onKeyDown(r))})("itemMouseEnter",function(r){h(e);let s=l();return f(s.onItemMouseEnter(r))}),p()()}if(i&2){let e=l();te(e.styleClass),c("id",e.id)("ngClass",Y(22,Ao,e.queryMatches,e.popup))("ngStyle",e.style)("@overlayAnimation",Q(28,zo,Y(25,No,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),I("data-pc-section","root")("data-pc-name","tieredmenu"),d(2),c("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var Ko=({dt:i})=>`
.p-tieredmenu {
    background: ${i("tieredmenu.background")};
    color: ${i("tieredmenu.color")};
    border: 1px solid ${i("tieredmenu.border.color")};
    border-radius: ${i("tieredmenu.border.radius")};
    min-width: 12.5rem;
}

.p-tieredmenu-root-list,
.p-tieredmenu-submenu {
    margin: 0;
    padding: ${i("tieredmenu.list.padding")};
    list-style: none;
    outline: 0 none;
    display: flex;
    flex-direction: column;
    gap: ${i("tieredmenu.list.gap")};
}

.p-tieredmenu-submenu {
    position: absolute;
    min-width: 100%;
    z-index: 1;
    background: ${i("tieredmenu.background")};
    color: ${i("tieredmenu.color")};
    border: 1px solid ${i("tieredmenu.border.color")};
    border-radius: ${i("tieredmenu.border.radius")};
    box-shadow: ${i("tieredmenu.shadow")};
}

.p-tieredmenu-item {
    position: relative;
}

.p-tieredmenu-item-content {
    transition: background ${i("tieredmenu.transition.duration")}, color ${i("tieredmenu.transition.duration")};
    border-radius: ${i("tieredmenu.item.border.radius")};
    color: ${i("tieredmenu.item.color")};
}

.p-tieredmenu-item-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
    color: inherit;
    padding: ${i("tieredmenu.item.padding")};
    gap: ${i("tieredmenu.item.gap")};
    user-select: none;
    outline: 0 none;
}

.p-tieredmenu-item-label {
    line-height: 1;
}

.p-tieredmenu-item-icon {
    color: ${i("tieredmenu.item.icon.color")};
}

.p-tieredmenu-submenu-icon {
    color: ${i("tieredmenu.submenu.icon.color")};
    margin-left: auto;
    font-size: ${i("tieredmenu.submenu.icon.size")};
    width: ${i("tieredmenu.submenu.icon.size")};
    height: ${i("tieredmenu.submenu.icon.size")};
}

.p-tieredmenu-submenu-icon:dir(rtl) {
    margin-left: 0;
    margin-right: auto;
}

.p-tieredmenu-item.p-focus > .p-tieredmenu-item-content {
    color: ${i("tieredmenu.item.focus.color")};
    background: ${i("tieredmenu.item.focus.background")};
}

.p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
    color: ${i("tieredmenu.item.icon.focus.color")};
}

.p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
    color: ${i("tieredmenu.submenu.icon.focus.color")};
}

.p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover {
    color: ${i("tieredmenu.item.focus.color")};
    background: ${i("tieredmenu.item.focus.background")};
}

.p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-item-icon {
    color: ${i("tieredmenu.item.icon.focus.color")};
}

.p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-submenu-icon {
    color: ${i("tieredmenu.submenu.icon.focus.color")};
}

.p-tieredmenu-item-active > .p-tieredmenu-item-content {
    color: ${i("tieredmenu.item.active.color")};
    background: ${i("tieredmenu.item.active.background")};
}

.p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
    color: ${i("tieredmenu.item.icon.active.color")};
}

.p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
    color: ${i("tieredmenu.submenu.icon.active.color")};
}

.p-tieredmenu-separator {
    border-top: 1px solid ${i("tieredmenu.separator.border.color")};
}

.p-tieredmenu-overlay {
    position: absolute;
    box-shadow: ${i("tieredmenu.shadow")};
}

.p-tieredmenu-enter-from,
.p-tieredmenu-leave-active {
    opacity: 0;
}

.p-tieredmenu-enter-active {
    transition: opacity 250ms;
}
    .p-tieredmenu-mobile {
    position: relative;
}

.p-tieredmenu-mobile .p-tieredmenu-button {
    display: flex;
}

.p-tieredmenu-mobile .p-tieredmenu-root-list > .p-tieredmenu-item > .p-tieredmenu-item-content > .p-tieredmenu-item-link {
    padding: ${i("tieredmenu.item.padding")};
}

.p-tieredmenu-mobile .p-tieredmenu-root-list .p-tieredmenu-separator {
    border-top: 1px solid ${i("tieredmenu.separator.border.color")};
}

.p-tieredmenu-mobile .p-tieredmenu-root-list > .p-tieredmenu-item > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
    margin-left: auto;
    transition: transform 0.2s;
}

.p-tieredmenu-mobile .p-tieredmenu-root-list > .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
    transform: rotate(-90deg);
}

.p-tieredmenu-mobile .p-tieredmenu-submenu .p-tieredmenu-submenu-icon {
    transition: transform 0.2s;
    transform: rotate(90deg);
}

.p-tieredmenu-mobile  .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
    transform: rotate(-90deg);
}

.p-tieredmenu-mobile .p-tieredmenu-submenu {
    position: static;
    box-shadow: none;
    border: 0 none;
    padding-left: ${i("tieredmenu.submenu.mobile.indent")};
}
`;var Ho={root:({instance:i,props:n})=>["p-tieredmenu p-component",{"p-tieredmenu-overlay":n.popup}],start:"p-tieredmenu-start",rootList:"p-tieredmenu-root-list",item:({instance:i,processedItem:n})=>["p-tieredmenu-item",{"p-tieredmenu-item-active":i.isItemActive(n),"p-focus":i.isItemFocused(n),"p-disabled":i.isItemDisabled(n)}],itemContent:"p-tieredmenu-item-content",itemLink:"p-tieredmenu-item-link",itemIcon:"p-tieredmenu-item-icon",itemLabel:"p-tieredmenu-item-label",submenuIcon:"p-tieredmenu-submenu-icon",submenu:"p-tieredmenu-submenu",separator:"p-tieredmenu-separator",end:"p-tieredmenu-end"},vr=(()=>{class i extends ke{name="tieredmenu";theme=Ko;classes=Ho;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=E({token:i,factory:i.\u0275fac})}return i})();var $o=(()=>{class i extends Ie{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=Gi([]);tabindex=0;inlineStyles;itemClick=new S;itemMouseEnter=new S;menuFocus=new S;menuBlur=new S;menuKeydown=new S;sublistViewChild;constructor(e,t,r){super(),this.el=e,this.renderer=t,this.tieredMenu=r,di(()=>{let s=this.activeItemPath();De(s)&&this.positionSubmenu()})}positionSubmenu(){if(ne(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;e&&an(e,this.level)}}getItemProp(e,t,r=null){return e&&e.item?fi(e.item[t],r):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Z(A({},this.getItemProp(e,"class")),{"p-tieredmenu-item":!0,"p-tieredmenu-item-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Z(A({},this.getItemProp(e,"class")),{"p-tieredmenu-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let r=this.isItemVisible(t),s=r&&this.getItemProp(t,"separator");return!r||s}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.activeItemPath().some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return De(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:r}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:r})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}static \u0275fac=function(t){return new(t||i)(F(ve),F(ai),F(ii(()=>qt)))};static \u0275cmp=R({type:i,selectors:[["p-tieredMenuSub"],["p-tieredmenusub"]],viewQuery:function(t,r){if(t&1&&le(to,7),t&2){let s;T(s=P())&&(r.sublistViewChild=s.first)}},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",D],autoDisplay:[2,"autoDisplay","autoDisplay",D],autoZIndex:[2,"autoZIndex","autoZIndex",D],baseZIndex:[2,"baseZIndex","baseZIndex",ie],popup:[2,"popup","popup",D],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",ie],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",ie],inlineStyles:"inlineStyles"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[ae],decls:3,vars:13,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex","ngStyle"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-tieredmenu-item-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-tieredmenu-item-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-tieredmenu-item-label",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-tieredmenu-item-icon",3,"ngClass","ngStyle"],[1,"p-tieredmenu-item-label"],[1,"p-tieredmenu-item-label",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"ngClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles"]],template:function(t,r){if(t&1){let s=k();u(0,"ul",3,0),v("keydown",function(a){return h(s),f(r.menuKeydown.emit(a))})("focus",function(a){return h(s),f(r.menuFocus.emit(a))})("blur",function(a){return h(s),f(r.menuBlur.emit(a))}),b(2,Lo,2,2,"ng-template",4),p()}t&2&&(c("ngClass",Y(10,io,!r.root,r.root))("id",r.menuId+"_list")("tabindex",r.tabindex)("ngStyle",r.inlineStyles),I("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-activedescendant",r.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),d(2),c("ngForOf",r.items))},dependencies:[i,L,de,ue,X,Se,we,pi,rn,sn,re,ze,Lt,hn,M],encapsulation:2})}return i})(),qt=(()=>{class i extends Ie{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;breakpoint="960px";autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new S;onHide=new S;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;templates;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=Re([]);number=Re(0);focusedItemInfo=Re({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=_(vr);matchMediaListener;query;queryMatches;_submenuIconTemplate;_itemTemplate;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${De(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,di(()=>{let t=this.activeItemPath();De(t)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){super.ngOnInit(),this.bindMatchMediaListener(),this.id=this.id||cn("pn_id_")}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(ne(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,t=0,r={},s=""){let o=[];return e&&e.forEach((a,m)=>{let g=(s!==""?s+"_":"")+m,y={item:a,index:m,level:t,key:g,parent:r,parentKey:s};y.items=this.createProcessedItems(a.items,t+1,y,g),o.push(y)}),o}getItemProp(e,t){return e?fi(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&De(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&De(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:r}=e,s=this.isProcessedItemGroup(r),o=wt(r.parent);if(this.isSelected(r)){let{index:m,key:g,level:y,parentKey:V,item:H}=r;this.activeItemPath.set(this.activeItemPath().filter(_e=>g!==_e.key&&g.startsWith(_e.key))),this.focusedItemInfo.set({index:m,level:y,parentKey:V,item:H}),this.dirty=!0,Ne(this.rootmenu.sublistViewChild.nativeElement)}else if(s)this.onItemChange(e);else{let m=o?r:this.activeItemPath().find(g=>g.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,m?m.index:-1),Ne(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){qe()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&ln(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],r=this.isProccessedItemGroup(t),s=t?.item;r&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:s}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],r=this.activeItemPath().find(a=>a.key===t.parentKey);wt(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:r?r.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=Ae(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),r=t&&Ae(t,'a[data-pc-section="action"]');if(r?r.click():t&&t.click(),!this.popup){let s=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(s)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e,t){let{processedItem:r,isFocus:s}=e;if(wt(r))return;let{index:o,key:a,level:m,parentKey:g,items:y,item:V}=r,H=De(y),_e=this.activeItemPath().filter(pt=>pt.parentKey!==g&&pt.parentKey!==a);H&&_e.push(r),this.focusedItemInfo.set({index:o,level:m,parentKey:g,item:V}),H&&(this.dirty=!0),s&&Ne(this.rootmenu.sublistViewChild.nativeElement),!(t==="hover"&&this.queryMatches)&&this.activeItemPath.set(_e)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),Ne(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?on(this.container,this.target):nt(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":Pe.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):rt(this.appendTo,this.container))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Pe.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Ne(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Ne(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let r=-1,s=!1;return this.focusedItemInfo().index!==-1?(r=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),r=r===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):r+this.focusedItemInfo().index):r=this.visibleItems.findIndex(o=>this.isItemMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedItemInfo().index===-1&&(r=this.findFirstFocusedItemIndex()),r!==-1&&this.changeFocusedItemIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return hi(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?hi(this.visibleItems.slice(0,e),r=>this.isValidItem(r)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(r=>this.isValidItem(r)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let r=this.focusedItemInfo();this.focusedItemInfo.set(Z(A({},r),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,r=Ae(this.rootmenu.el.nativeElement,`li[id="${t}"]`);r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new kt(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){ne(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{qe()||this.hide(e,!0)})))}bindOutsideClickListener(){ne(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),r=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&r&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Pe.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.unbindMatchMediaListener(),super.ngOnDestroy()}static \u0275fac=function(t){return new(t||i)(F(xt))};static \u0275cmp=R({type:i,selectors:[["p-tieredMenu"],["p-tieredmenu"],["p-tiered-menu"]],contentQueries:function(t,r,s){if(t&1&&(N(s,Mo,4),N(s,Oo,4),N(s,xe,4)),t&2){let o;T(o=P())&&(r.submenuIconTemplate=o.first),T(o=P())&&(r.itemTemplate=o.first),T(o=P())&&(r.templates=o)}},viewQuery:function(t,r){if(t&1&&(le(Vo,5),le(Fo,5)),t&2){let s;T(s=P())&&(r.rootmenu=s.first),T(s=P())&&(r.containerViewChild=s.first)}},inputs:{model:"model",popup:[2,"popup","popup",D],style:"style",styleClass:"styleClass",appendTo:"appendTo",breakpoint:"breakpoint",autoZIndex:[2,"autoZIndex","autoZIndex",D],baseZIndex:[2,"baseZIndex","baseZIndex",ie],autoDisplay:[2,"autoDisplay","autoDisplay",D],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",D],tabindex:[2,"tabindex","tabindex",ie]},outputs:{onShow:"onShow",onHide:"onHide"},features:[z([vr]),ae],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(t,r){t&1&&b(0,Bo,4,30,"div",2),t&2&&c("ngIf",!r.popup||r.visible)},dependencies:[L,de,X,we,$o,pi,ze,M],encapsulation:2,data:{animation:[bt("overlayAnimation",[Ue(":enter",[Fe({opacity:0,transform:"scaleY(0.8)"}),Ge("{{showTransitionParams}}")]),Ue(":leave",[Ge("{{hideTransitionParams}}",Fe({opacity:0}))])])]},changeDetection:0})}return i})(),wr=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=j({type:i});static \u0275inj=$({imports:[qt,M,M]})}return i})();var Wo=()=>({height:".5rem"});function Zo(i,n){if(i&1&&(u(0,"div",12),x(1),p()),i&2){let e=l();d(),O(e.card.description)}}function Go(i,n){if(i&1&&w(0,"p-progress-bar",13),i&2){let e=l();_t(Ze(4,Wo)),c("value",e.card.progress)("showValue",!1)}}function Uo(i,n){if(i&1&&w(0,"p-avatar",14),i&2){let e=n.$implicit;Oe("image","/demo/images/avatar/",e.image,"")}}function qo(i,n){if(i&1&&w(0,"p-avatar",15),i&2){let e=l();Oe("label","+ ",e.card.assignees.length-3,"")}}function Qo(i,n){if(i&1&&(u(0,"span",18),w(1,"i",19),x(2),p()),i&2){let e=l(2);d(2),O(e.generateTaskInfo())}}function Yo(i,n){if(i&1&&(u(0,"span",18),w(1,"i",20),x(2),p()),i&2){let e=l(2);d(2),O(e.card.attachments)}}function Xo(i,n){if(i&1&&(u(0,"span",18),w(1,"i",21),x(2),p()),i&2){let e=l(2);d(2),O(e.parseDate(e.card.dueDate))}}function Jo(i,n){if(i&1&&(u(0,"div",16),b(1,Qo,3,1,"span",17)(2,Yo,3,1,"span",17)(3,Xo,3,1,"span",17),p()),i&2){let e=l();d(),c("ngIf",e.card.taskList.tasks.length),d(),c("ngIf",e.card.attachments),d(),c("ngIf",e.card.dueDate)}}var Qt=class i{constructor(n){this.kanbanService=n;this.subscription=this.kanbanService.lists$.subscribe(e=>{let t=e.map(r=>({id:r.listId,label:r.title,command:()=>this.onMove(r.listId)}));this.generateMenu(t)})}card;listId;menuItems=[];subscription;parseDate(n){return new Date(n).toDateString().split(" ").slice(1,3).join(" ")}onDelete(){this.kanbanService.deleteCard(this.card.id,this.listId)}onCopy(){this.kanbanService.copyCard(this.card,this.listId)}onMove(n){this.kanbanService.moveCard(this.card,n,this.listId)}generateMenu(n){this.menuItems=[{label:"Copy card",command:()=>this.onCopy()},{label:"Move card",items:n},{label:"Delete card",command:()=>this.onDelete()}]}generateTaskInfo(){let n=this.card.taskList.tasks.length;return`${this.card.taskList.tasks.filter(t=>t.completed).length} / ${n}`}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||i)(F(se))};static \u0275cmp=R({type:i,selectors:[["kanban-card"]],inputs:{card:"card",listId:"listId"},decls:16,vars:13,consts:[["menu",""],["cdkDragHandle","",1,"flex","bg-surface-0","dark:bg-surface-900","flex-col","w-full","border","border-surface","p-4","gap-8","hover:bg-surface-50","dark:hover:bg-surface-950","cursor-pointer","rounded-border",3,"id"],[1,"flex","justify-between","items-center"],[1,"text-surface-900","dark:text-surface-0","font-semibold"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","rounded","","text","","severity","secondary",1,"p-trigger",3,"click"],["appendTo","body",3,"model","popup"],["style","word-break: break-word","class","text-surface-700 dark:text-surface-100",4,"ngIf"],[3,"value","showValue","style",4,"ngIf"],[1,"flex","items-center","justify-between","flex-col","md:flex-row","gap-6","md:gap-0"],["shape","circle","styleClass","border-2 border-surface",3,"image",4,"ngFor","ngForOf"],["shape","circle","styleClass","border-2 border-surface mb-1 bg-surface-50 dark:bg-surface-950",3,"label",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],[1,"text-surface-700","dark:text-surface-100",2,"word-break","break-word"],[3,"value","showValue"],["shape","circle","styleClass","border-2 border-surface",3,"image"],["shape","circle","styleClass","border-2 border-surface mb-1 bg-surface-50 dark:bg-surface-950",3,"label"],[1,"flex","items-center","gap-4"],["class","text-surface-900 dark:text-surface-0 font-semibold flex-shrink-0",4,"ngIf"],[1,"text-surface-900","dark:text-surface-0","font-semibold","flex-shrink-0"],[1,"pi","pi-check-square","text-surface-700","dark:text-surface-100","mr-2"],[1,"pi","pi-paperclip","text-surface-700","dark:text-surface-100","mr-2"],[1,"pi","pi-clock","text-surface-700","dark:text-surface-100","mr-2"]],template:function(e,t){if(e&1){let r=k();u(0,"div",1)(1,"div",2)(2,"span",3),x(3),p(),u(4,"div")(5,"button",4),v("click",function(o){h(r);let a=ce(7);return f(a.toggle(o))}),p(),w(6,"p-tiered-menu",5,0),p()(),b(8,Zo,2,1,"div",6)(9,Go,1,5,"p-progress-bar",7),u(10,"div",8)(11,"p-avatar-group"),b(12,Uo,1,2,"p-avatar",9),Xi(13,"slice"),b(14,qo,1,2,"p-avatar",10),p(),b(15,Jo,4,3,"div",11),p()()}e&2&&(c("id",t.card.id),d(3),O(t.card.title?t.card.title:"Untitled"),d(3),c("model",t.menuItems)("popup",!0),d(2),c("ngIf",t.card.description),d(),c("ngIf",t.card.taskList.tasks.length),d(3),c("ngForOf",Ji(13,9,t.card.assignees,0,3)),d(2),c("ngIf",t.card.assignees&&t.card.assignees.length>3),d(),c("ngIf",t.card.attachments||t.card.dueDate))},dependencies:[L,ue,X,tn,wr,qt,he,me,Te,re,Rt,gn,Ft,ot,Sn,Cn,Zt],encapsulation:2})};var ea=["inputEl"],ta=["listEl"];function ia(i,n){if(i&1&&(u(0,"span",11),x(1),p()),i&2){let e=l();d(),O(e.list.title)}}function na(i,n){if(i&1){let e=k();u(0,"span",12)(1,"input",13),q("ngModelChange",function(r){h(e);let s=l();return U(s.list.title,r)||(s.list.title=r),f(r)}),p(),u(2,"button",14),v("click",function(r){let s=h(e).closeCallback;return f(s(r))}),p()()}if(i&2){let e=l();d(),c("value",e.list.title),G("ngModel",e.list.title)}}function ra(i,n){if(i&1){let e=k();u(0,"kanban-card",15),v("click",function(r){let s=h(e).$implicit,o=l();return f(o.onCardClick(r,s))}),p()}if(i&2){let e=n.$implicit,t=l();c("card",e)("listId",t.list.listId)("cdkDragDisabled",t.isMobileDevice)}}var Yt=class i{constructor(n,e){this.parent=n;this.kanbanService=e}list;listIds;menuItems=[];title="";timeout=null;isMobileDevice=!1;inputEl;listEl;ngOnInit(){this.isMobileDevice=this.kanbanService.isMobileDevice(),this.menuItems=[{label:"List actions",items:[{separator:!0},{label:"Copy list",command:()=>this.onCopy(this.list)},{label:"Remove list",command:()=>{this.list.listId&&this.onDelete(this.list.listId)}}]}]}toggleSidebar(){this.parent.sidebarVisible=!0}onDelete(n){this.kanbanService.deleteList(n)}onCopy(n){this.kanbanService.copyList(n)}onCardClick(n,e){let t=n.target;t.classList.contains("p-button-icon")||t.classList.contains("p-trigger")||(this.list.listId&&this.kanbanService.onCardSelect(e,this.list.listId),this.parent.sidebarVisible=!0)}insertCard(){this.list.listId&&this.kanbanService.addCard(this.list.listId)}dropCard(n){n.previousContainer===n.container?Xe(n.container.data,n.previousIndex,n.currentIndex):pr(n.previousContainer.data,n.container.data,n.previousIndex,n.currentIndex)}focus(){this.timeout=setTimeout(()=>this.inputEl.nativeElement.focus(),1)}insertHeight(n){n.container.element.nativeElement.style.minHeight="10rem"}removeHeight(n){n.container.element.nativeElement.style.minHeight="2rem"}static \u0275fac=function(e){return new(e||i)(F(Qe),F(se))};static \u0275cmp=R({type:i,selectors:[["kanban-list"]],viewQuery:function(e,t){if(e&1&&(le(ea,5),le(ta,5)),e&2){let r;T(r=P())&&(t.inputEl=r.first),T(r=P())&&(t.listEl=r.first)}},hostAttrs:[1,"card","md:w-[25rem]","overflow-hidden","shadow-md","!rounded-border","flex-shrink-0"],inputs:{list:"list",listIds:"listIds"},decls:15,vars:6,consts:[["display",""],["content",""],["menu",""],["listEl",""],[1,"flex","justify-between","items-center","w-full"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-h",1,"p-button-rounded","p-button-text","p-button-secondary",3,"click"],["appendTo","body",3,"model","popup"],["cdkDropList","",1,"flex","flex-col","gap-8","overflow-y-auto","mt-6","scrollable","kanban-list",2,"min-height","2rem",3,"cdkDropListDropped","cdkDropListEntered","cdkDropListExited","id","cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","",3,"card","listId","cdkDragDisabled","click",4,"ngFor","ngForOf"],[1,"px-6","mb-4","w-full","mt-6","flex"],["pButton","","pRipple","","label","New Card","icon","pi pi-plus font-semibold",1,"py-4","justify-center","font-semibold","w-full","rounded-border",3,"click"],[1,"text-lg","font-semibold"],[1,"inline-flex","items-center","gap-1","h-10"],["type","text","autofocus","","pInputText","",1,"h-full","!rounded-r-none","w-[10rem]",3,"ngModelChange","value","ngModel"],["pButton","","icon","pi pi-check",1,"!rounded-l-none","!h-10",3,"click"],["cdkDrag","",3,"click","card","listId","cdkDragDisabled"]],template:function(e,t){if(e&1){let r=k();u(0,"div",4)(1,"p-inplace"),b(2,ia,2,1,"ng-template",null,0,W)(4,na,3,2,"ng-template",null,1,W),p(),u(6,"div")(7,"button",5),v("click",function(o){h(r);let a=ce(9);return f(a.toggle(o))}),p(),w(8,"p-menu",6,2),p()(),u(10,"div",7,3),v("cdkDropListDropped",function(o){return h(r),f(t.dropCard(o))})("cdkDropListEntered",function(o){return h(r),f(t.insertHeight(o))})("cdkDropListExited",function(o){return h(r),f(t.removeHeight(o))}),b(12,ra,1,3,"kanban-card",8),p(),u(13,"div",9)(14,"button",10),v("click",function(){return h(r),f(t.insertCard())}),p()()}e&2&&(d(8),c("model",t.menuItems)("popup",!0),d(2),c("id",t.list.listId)("cdkDropListData",t.list.cards)("cdkDropListConnectedTo",t.listIds),d(2),c("ngForOf",t.list.cards))},dependencies:[L,ue,Vt,st,he,me,Te,re,wn,yn,Qt,Dt,It,Ct,St,Et,Pt,Ut,Gt,ze],styles:["[_nghost-%COMP%]     .p-button-label{flex:0;white-space:nowrap}[_nghost-%COMP%]     .scrollable{scroll-behavior:smooth;max-height:70vh}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--p-gray-500);border-radius:20px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.25}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};function sa(i,n){if(i&1&&w(0,"kanban-list",4),i&2){let e=n.$implicit,t=l();c("list",e)("listIds",t.listIds)("cdkDragDisabled",t.isMobileDevice)}}var Qe=class i{constructor(n){this.kanbanService=n;this.subscription=this.kanbanService.lists$.subscribe(e=>{this.lists=e,this.listIds=this.lists.map(t=>t.listId||"")})}sidebarVisible=!1;lists=[];listIds=[];subscription=new ge;style;isMobileDevice=!1;ngOnInit(){this.removeLayoutResponsive(),this.isMobileDevice=this.kanbanService.isMobileDevice()}toggleSidebar(){this.sidebarVisible=!0}addList(){this.kanbanService.addList()}dropList(n){Xe(n.container.data,n.previousIndex,n.currentIndex)}removeLayoutResponsive(){this.style=document.createElement("style"),this.style.innerHTML=`
                .layout-content {
                    width: 100%;
                }

                .layout-topbar {
                    width: 100%;
                }
            `,document.head.appendChild(this.style)}ngOnDestroy(){this.subscription.unsubscribe(),document.head.removeChild(this.style)}static \u0275fac=function(e){return new(e||i)(F(se))};static \u0275cmp=R({type:i,selectors:[["kanban"]],features:[z([se])],decls:5,vars:2,consts:[["id","kanban-wrapper","cdkDropList","","cdkDropListOrientation","horizontal",1,"flex","gap-8","w-full","flex-col","md:flex-row","flex-nowrap","lg:overflow-y-hidden","overflow-x-auto",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","","cdkDragHandle","","class","p-kanban-list",3,"list","listIds","cdkDragDisabled",4,"ngFor","ngForOf"],[1,"px-4","py-1","mb-4","md:w-[25rem]","shrink-0"],["pButton","","pRipple","","label","New List","icon","pi pi-plus font-semibold",1,"py-4","justify-center","font-semibold","w-full","rounded",3,"click"],["cdkDrag","","cdkDragHandle","",1,"p-kanban-list",3,"list","listIds","cdkDragDisabled"]],template:function(e,t){e&1&&(u(0,"div",0),v("cdkDropListDropped",function(s){return t.dropList(s)}),b(1,sa,1,3,"kanban-list",1),u(2,"div",2)(3,"button",3),v("click",function(){return t.addList()}),p()(),w(4,"kanban-sidebar"),p()),e&2&&(c("cdkDropListData",t.lists),d(),c("ngForOf",t.lists))},dependencies:[At,Yt,L,ue,he,me,Te,re,br,Ut,Gt,Zt],styles:["[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--gray-500);border-radius:20px}[_nghost-%COMP%]     .p-button-label{flex:0;white-space:nowrap}[_nghost-%COMP%]     .p-inplace .p-inplace-content .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .p-inplace .p-inplace-content .p-button{border-top-left-radius:0;border-bottom-left-radius:0;width:3rem;height:3rem}[_nghost-%COMP%]     .p-inplace .p-inplace-display{padding:0}.p-kanban-list[_ngcontent-%COMP%]{cursor:pointer;height:min-content}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.25}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};export{Qe as Kanban};
