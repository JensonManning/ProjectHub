import{a as ot,c as rt}from"./chunk-4LBGWKVQ.js";import{a as at,b as dt,c as pt,d as mt,f as ut,g as ht,h as _t}from"./chunk-H7E2I7RY.js";import{a as it}from"./chunk-5XAABUMC.js";import{e as ct,k as st}from"./chunk-4NGDR7O5.js";import{j as nt}from"./chunk-T7MGDWGT.js";import{f as $e}from"./chunk-7OIDS63O.js";import"./chunk-QXRNZP2L.js";import{c as lt}from"./chunk-Y66WSUQK.js";import{Da as Pe,Ea as Te,Ka as et,N as ye,Oa as ae,Qa as tt,V as Ue,X as Le,Y as re,a as Oe,aa as Be,ea as Ke,ga as We,ja as Qe,la as qe,ma as ze,na as Je,oa as Ye,p as K,q as xe,qa as Ge,r as Z,ra as Xe,sa as W,ta as Ze}from"./chunk-NB76KGKE.js";import{$ as h,Ab as k,Bb as Fe,Cb as f,Db as p,Eb as B,Ec as ve,Fb as H,Fc as Ne,Gc as z,Hc as He,Ib as w,Ic as Ce,Kb as E,Lb as A,Lc as V,Ma as s,N as F,O as ie,P as Ie,Pb as l,Qb as b,Rb as x,Sb as Me,Tb as T,Tc as be,U as g,Ub as j,Uc as J,Va as ue,Vb as S,Wb as fe,Wc as Y,Xc as G,Ya as P,Yb as y,Yc as X,Za as Ee,aa as _,ab as O,bb as Ae,ca as M,cb as u,ia as q,jb as v,kb as d,la as oe,lb as Ve,mb as R,mc as ge,na as we,nb as he,nc as Re,ob as N,pb as $,pc as I,ub as a,vb as r,wb as D,xb as U,yb as L,zb as _e}from"./chunk-U6KPTH7L.js";import{a as te,b as ne}from"./chunk-GAL4ENT6.js";var ce=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=P({type:t,selectors:[["app-manage-projects"]],decls:2,vars:0,template:function(e,i){e&1&&(a(0,"p"),l(1,"manage-projects works!"),r())},encapsulation:2})};var Se={0:"Unknown",1:"Sale Pending",2:"Upcoming",3:"Active",4:"Completed",5:"Cancelled",6:"Delayed",7:"Postponed",8:"Late"},De={0:"Unknown",1:"Cloud Plus",2:"Cloud Only",3:"Merger",4:"Exit"};var de=["*"],yt=["toggleicon"],Pt=t=>({active:t});function Tt(t,o){}function jt(t,o){t&1&&u(0,Tt,0,0,"ng-template")}function St(t,o){if(t&1&&u(0,jt,1,0,null,0),t&2){let e=p();d("ngTemplateOutlet",e.toggleicon)("ngTemplateOutletContext",y(2,Pt,e.active()))}}function Dt(t,o){if(t&1&&D(0,"span",4),t&2){let e=p(3);N(e.pcAccordion.collapseIcon),d("ngClass",e.pcAccordion.iconClass),v("aria-hidden",!0)}}function kt(t,o){if(t&1&&D(0,"ChevronDownIcon",4),t&2){let e=p(3);d("ngClass",e.pcAccordion.iconClass),v("aria-hidden",!0)}}function It(t,o){if(t&1&&(U(0),u(1,Dt,1,4,"span",2)(2,kt,1,2,"ChevronDownIcon",3),L()),t&2){let e=p(2);s(),d("ngIf",e.pcAccordion.collapseIcon),s(),d("ngIf",!e.pcAccordion.collapseIcon)}}function wt(t,o){if(t&1&&D(0,"span",4),t&2){let e=p(3);N(e.pcAccordion.expandIcon),d("ngClass",e.pcAccordion.iconClass),v("aria-hidden",!0)}}function Et(t,o){if(t&1&&D(0,"ChevronUpIcon",4),t&2){let e=p(3);d("ngClass",e.pcAccordion.iconClass),v("aria-hidden",!0)}}function At(t,o){if(t&1&&(U(0),u(1,wt,1,4,"span",2)(2,Et,1,2,"ChevronUpIcon",3),L()),t&2){let e=p(2);s(),d("ngIf",e.pcAccordion.expandIcon),s(),d("ngIf",!e.pcAccordion.expandIcon)}}function Vt(t,o){if(t&1&&u(0,It,3,2,"ng-container",1)(1,At,3,2,"ng-container",1),t&2){let e=p();d("ngIf",e.active()),s(),d("ngIf",!e.active())}}var se=t=>({transitionParams:t}),ft=t=>({value:"visible",params:t}),gt=t=>({value:"hidden",params:t}),Ft=["header"],Mt=["icon"],Rt=["content"],Nt=["*",[["p-header"]]],Ht=["*","p-header"],Ot=t=>({$implicit:t});function $t(t,o){if(t&1&&l(0),t&2){let e=p();x(" ",e.header," ")}}function Ut(t,o){t&1&&_e(0)}function Lt(t,o){if(t&1&&u(0,Ut,1,0,"ng-container",4),t&2){let e=p(2);d("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function Bt(t,o){t&1&&H(0,1)}function Kt(t,o){if(t&1&&u(0,Lt,1,1,"ng-container")(1,Bt,1,0),t&2){let e=p();$(e.headerTemplate||e._headerTemplate?0:-1),s(),$(e.headerFacet?1:-1)}}function Wt(t,o){}function Qt(t,o){t&1&&u(0,Wt,0,0,"ng-template")}function qt(t,o){if(t&1&&u(0,Qt,1,0,null,5),t&2){let e=p();d("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",y(2,Ot,e.selected))}}function zt(t,o){if(t&1&&D(0,"span",8),t&2){let e=p(3);N(e.accordion.collapseIcon),d("ngClass",e.iconClass),v("aria-hidden",!0)}}function Jt(t,o){if(t&1&&D(0,"ChevronDownIcon",8),t&2){let e=p(3);d("ngClass",e.iconClass),v("aria-hidden",!0)}}function Yt(t,o){if(t&1&&(U(0),u(1,zt,1,4,"span",6)(2,Jt,1,2,"ChevronDownIcon",7),L()),t&2){let e=p(2);s(),d("ngIf",e.accordion.collapseIcon),s(),d("ngIf",!e.accordion.collapseIcon)}}function Gt(t,o){if(t&1&&D(0,"span",8),t&2){let e=p(3);N(e.accordion.expandIcon),d("ngClass",e.iconClass),v("aria-hidden",!0)}}function Xt(t,o){if(t&1&&D(0,"ChevronUpIcon",8),t&2){let e=p(3);d("ngClass",e.iconClass),v("aria-hidden",!0)}}function Zt(t,o){if(t&1&&(U(0),u(1,Gt,1,4,"span",6)(2,Xt,1,2,"ChevronUpIcon",7),L()),t&2){let e=p(2);s(),d("ngIf",e.accordion.expandIcon),s(),d("ngIf",!e.accordion.expandIcon)}}function en(t,o){if(t&1&&u(0,Yt,3,2,"ng-container",3)(1,Zt,3,2,"ng-container",3),t&2){let e=p();d("ngIf",e.selected),s(),d("ngIf",!e.selected)}}function tn(t,o){t&1&&_e(0)}function nn(t,o){if(t&1&&(U(0),u(1,tn,1,0,"ng-container",4),L()),t&2){let e=p();s(),d("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}var on=({dt:t})=>`
.p-accordionpanel {
    display: flex;
    flex-direction: column;
    border-style: solid;
    border-width: ${t("accordion.panel.border.width")};
    border-color: ${t("accordion.panel.border.color")};
}

.p-accordionheader {
    all: unset;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${t("accordion.header.padding")};
    color: ${t("accordion.header.color")};
    background: ${t("accordion.header.background")};
    border-style: solid;
    border-width: ${t("accordion.header.border.width")};
    border-color: ${t("accordion.header.border.color")};
    font-weight: ${t("accordion.header.font.weight")};
    border-radius: ${t("accordion.header.border.radius")};
    transition: background ${t("accordion.transition.duration")}; color ${t("accordion.transition.duration")}color ${t("accordion.transition.duration")}, outline-color ${t("accordion.transition.duration")}, box-shadow ${t("accordion.transition.duration")};
    outline-color: transparent;
    position: relative;
    overflow: hidden;
}

.p-accordionpanel:first-child > .p-accordionheader {
    border-width: ${t("accordion.header.first.border.width")};
    border-start-start-radius: ${t("accordion.header.first.top.border.radius")};
    border-start-end-radius: ${t("accordion.header.first.top.border.radius")};
}

.p-accordionpanel:last-child > .p-accordionheader {
    border-end-start-radius: ${t("accordion.header.last.bottom.border.radius")};
    border-end-end-radius: ${t("accordion.header.last.bottom.border.radius")};
}

.p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
    border-end-start-radius: ${t("accordion.header.last.active.bottom.border.radius")};
    border-end-end-radius:${t("accordion.header.last.active.bottom.border.radius")};
}

.p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.color")};
}

.p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
    box-shadow: ${t("accordion.header.focus.ring.shadow")};
    outline: ${t("accordion.header.focus.ring.width")} ${t("accordion.header.focus.ring.style")} ${t("accordion.header.focus.ring.color")};
    outline-offset: ${t("accordion.header.focus.ring.offset")};
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
    background: ${t("accordion.header.hover.background")};
    color: ${t("accordion.header.hover.color")}
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.hover.color")};
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
    background: ${t("accordion.header.active.background")};
    color: ${t("accordion.header.active.color")}
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.active.color")};
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  {
    background: ${t("accordion.header.active.hover.background")};
    color: ${t("accordion.header.active.hover.color")}
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.active.hover.color")};
}

.p-accordioncontent-content {
    border-style: solid;
    border-width: ${t("accordion.content.border.width")};
    border-color: ${t("accordion.content.border.color")};
    background-color: ${t("accordion.content.background")};
    color: ${t("accordion.content.color")};
    padding: ${t("accordion.content.padding")}
}

/*For PrimeNG*/

.p-accordion .p-accordioncontent {
    overflow: hidden;
}

.p-accordionpanel.p-accordioncontent:not(.ng-animating) {
    overflow: inherit;
}

.p-accordionheader-toggle-icon.icon-start {
    order: -1;
}

.p-accordionheader:has(.p-accordionheader-toggle-icon.icon-start) {
    justify-content: flex-start;
    gap: ${t("accordion.header.padding")};
}
`,rn={root:"p-accordion p-component"},le=(()=>{class t extends Be{name="accordion";theme=on;classes=rn;static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();var ke=(()=>{class t extends W{pcAccordion=g(F(()=>ee));value=ue(void 0);disabled=oe(!1,{transform:e=>ae(e)});active=I(()=>this.pcAccordion.multiple()?this.valueEquals(this.pcAccordion.value(),this.value()):this.pcAccordion.value()===this.value());valueEquals(e,i){return Array.isArray(e)?e.includes(i):e===i}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=P({type:t,selectors:[["p-accordion-panel"],["p-accordionpanel"]],hostVars:9,hostBindings:function(i,n){i&2&&(v("data-pc-name","accordionpanel")("data-p-disabled",n.disabled())("data-p-active",n.active()),R("p-accordionpanel",!0)("p-accordionpanel-active",n.active())("p-disabled",n.disabled()))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[O],ngContentSelectors:de,decls:1,vars:0,template:function(i,n){i&1&&(B(),H(0))},dependencies:[V],encapsulation:2,changeDetection:0})}return t})(),an=(()=>{class t extends W{pcAccordion=g(F(()=>ee));pcAccordionPanel=g(F(()=>ke));id=I(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);active=I(()=>this.pcAccordionPanel.active());disabled=I(()=>this.pcAccordionPanel.disabled());ariaControls=I(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);toggleicon;onClick(e){let i=this.active();this.changeActiveValue();let n=this.active(),c=this.pcAccordionPanel.value();!i&&n?this.pcAccordion.onOpen.emit({originalEvent:e,index:c}):i&&!n&&this.pcAccordion.onClose.emit({originalEvent:e,index:c})}onFocus(){this.pcAccordion.selectOnFocus()&&this.changeActiveValue()}onKeydown(e){switch(e.code){case"ArrowDown":this.arrowDownKey(e);break;case"ArrowUp":this.arrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnterKey(e);break;default:break}}changeActiveValue(){this.pcAccordion.updateValue(this.pcAccordionPanel.value())}findPanel(e){return e?.closest('[data-pc-name="accordionpanel"]')}findHeader(e){return K(e,'[data-pc-name="accordionheader"]')}findNextPanel(e,i=!1){let n=i?e:e.nextElementSibling;return n?Z(n,"data-p-disabled")?this.findNextPanel(n):this.findHeader(n):null}findPrevPanel(e,i=!1){let n=i?e:e.previousElementSibling;return n?Z(n,"data-p-disabled")?this.findPrevPanel(n):this.findHeader(n):null}findFirstPanel(){return this.findNextPanel(this.pcAccordion.el.nativeElement.firstElementChild,!0)}findLastPanel(){return this.findPrevPanel(this.pcAccordion.el.nativeElement.lastElementChild,!0)}changeFocusedPanel(e,i){xe(i)}arrowDownKey(e){let i=this.findNextPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onHomeKey(e),e.preventDefault()}arrowUpKey(e){let i=this.findPrevPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let i=this.findFirstPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEndKey(e){let i=this.findLastPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEnterKey(e){this.changeActiveValue(),e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=P({type:t,selectors:[["p-accordion-header"],["p-accordionheader"]],contentQueries:function(i,n,c){if(i&1&&w(c,yt,5),i&2){let m;E(m=A())&&(n.toggleicon=m.first)}},hostVars:12,hostBindings:function(i,n){i&1&&f("click",function(m){return n.onClick(m)})("focus",function(m){return n.onFocus(m)})("keydown",function(m){return n.onKeydown(m)}),i&2&&(v("id",n.id())("aria-expanded",n.active())("aria-controls",n.ariaControls())("role","button")("tabindex","0")("data-p-active",n.active())("data-p-disabled",n.disabled())("data-pc-name","accordionheader"),Ve("user-select","none"),R("p-accordionheader",!0))},features:[Ae([Ze]),O],ngContentSelectors:de,decls:3,vars:1,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){i&1&&(B(),H(0),u(1,St,1,4)(2,Vt,2,2)),i&2&&(s(),$(n.toggleicon?1:2))},dependencies:[V,ve,z,Ce,Pe,Te],encapsulation:2,changeDetection:0})}return t})(),cn=(()=>{class t extends W{pcAccordion=g(F(()=>ee));pcAccordionPanel=g(F(()=>ke));active=I(()=>this.pcAccordionPanel.active());ariaLabelledby=I(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);id=I(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=P({type:t,selectors:[["p-accordion-content"],["p-accordioncontent"]],hostVars:16,hostBindings:function(i,n){i&2&&(Fe("@content",n.active()?y(10,ft,y(8,se,n.pcAccordion.transitionOptions)):y(14,gt,y(12,se,n.pcAccordion.transitionOptions))),v("id",n.id())("role","region")("data-pc-name","accordioncontent")("data-p-active",n.active())("aria-labelledby",n.ariaLabelledby()),R("p-accordioncontent",!0))},features:[O],ngContentSelectors:de,decls:2,vars:0,consts:[[1,"p-accordioncontent-content"]],template:function(i,n){i&1&&(B(),a(0,"div",0),H(1),r())},dependencies:[V],encapsulation:2,data:{animation:[be("content",[G("hidden",Y({height:"0",visibility:"hidden"})),G("visible",Y({height:"*",visibility:"visible"})),X("visible <=> hidden",[J("{{transitionParams}}")]),X("void => *",J(0))])]},changeDetection:0})}return t})(),vt=(()=>{class t extends W{get hostClass(){return this.tabStyleClass}get hostStyle(){return this.tabStyle}id=ye("pn_id_");header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.cd.detectChanges())}headerAriaLevel=2;selectedChange=new q;headerFacet;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordionheader-toggle-icon icon-end":"p-accordionheader-toggle-icon icon-start"}headerTemplate;iconTemplate;contentTemplate;templates;_headerTemplate;_iconTemplate;_contentTemplate;loaded=!1;accordion=g(F(()=>ee));_componentStyle=g(le);ngOnInit(){super.ngOnInit(),console.log("AccordionTab is deprecated as of v18, please use the new structure instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:i});else{if(!this.accordion.multiple())for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected&&(this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].cd.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.cd.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){e=i;break}return e}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=P({type:t,selectors:[["p-accordionTab"],["p-accordion-tab"],["p-accordiontab"]],contentQueries:function(i,n,c){if(i&1&&(w(c,Ft,4),w(c,Mt,4),w(c,Rt,4),w(c,Ue,4),w(c,Le,4)),i&2){let m;E(m=A())&&(n.headerTemplate=m.first),E(m=A())&&(n.iconTemplate=m.first),E(m=A())&&(n.contentTemplate=m.first),E(m=A())&&(n.headerFacet=m),E(m=A())&&(n.templates=m)}},hostVars:9,hostBindings:function(i,n){i&2&&(v("data-pc-name","accordiontab"),he(n.hostStyle),N(n.hostClass),R("p-accordionpanel",!0)("p-accordionpanel-active",n.selected))},inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",ge],cache:[2,"cache","cache",ge],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",Re]},outputs:{selectedChange:"selectedChange"},features:[fe([le]),O],ngContentSelectors:Ht,decls:9,vars:30,consts:[["type","button",1,"p-accordionheader",3,"click","keydown","disabled","ngClass","ngStyle"],["role","region",1,"p-accordioncontent"],[1,"p-accordioncontent-content",3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){i&1&&(B(Nt),a(0,"button",0),f("click",function(m){return n.toggle(m)})("keydown",function(m){return n.onKeydown(m)}),u(1,$t,1,1)(2,Kt,2,2)(3,qt,1,4)(4,en,2,2),r(),a(5,"div",1)(6,"div",2),H(7),u(8,nn,2,1,"ng-container",3),r()()),i&2&&(R("p-disabled",n.disabled),d("disabled",n.disabled)("ngClass",n.headerStyleClass)("ngStyle",n.headerStyle),v("aria-expanded",n.selected)("aria-level",n.headerAriaLevel)("data-p-disabled",n.disabled)("data-pc-section","accordionheader")("tabindex",n.disabled?null:0)("id",n.getTabHeaderActionId(n.id))("aria-controls",n.getTabContentId(n.id)),s(),$(!n.headerTemplate&&!n._headerTemplate?1:2),s(2),$(n.iconTemplate||n._iconTemplate?3:4),s(2),d("@tabContent",n.selected?y(24,ft,y(22,se,n.transitionOptions)):y(28,gt,y(26,se,n.transitionOptions))),v("id",n.getTabContentId(n.id))("aria-hidden",!n.selected)("aria-labelledby",n.getTabHeaderActionId(n.id))("data-pc-section","toggleablecontent"),s(),d("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),s(2),d("ngIf",(n.contentTemplate||n._contentTemplate)&&(n.cache?n.loaded:n.selected)))},dependencies:[V,ve,z,Ce,He,Pe,Te],encapsulation:2,data:{animation:[be("tabContent",[G("hidden",Y({height:"0",visibility:"hidden"})),G("visible",Y({height:"*",visibility:"visible"})),X("visible <=> hidden",[J("{{transitionParams}}")]),X("void => *",J(0))])]},changeDetection:0})}return t})(),ee=(()=>{class t extends W{get hostClass(){return this.styleClass}get hostStyle(){return this.style}value=ue(void 0);multiple=oe(!1,{transform:e=>ae(e)});style;styleClass;expandIcon;collapseIcon;selectOnFocus=oe(!1,{transform:e=>ae(e)});set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";activeIndexChange=new q;set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new q;onOpen=new q;id=we(ye("pn_id_"));tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];_componentStyle=g(le);get activeIndex(){return this._activeIndex}get headerAriaLevel(){return this._headerAriaLevel}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}onTabArrowDownKey(e){let i=this.findNextHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabHomeKey(e),e.preventDefault()}onTabArrowUpKey(e){let i=this.findPrevHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabEndKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction();this.changeFocusedTab(i),e.preventDefault()}changeFocusedTab(e){e&&(xe(e),this.selectOnFocus()&&this.tabs.forEach((i,n)=>{let c=this.multiple()?this._activeIndex.includes(n):n===this._activeIndex;this.multiple()?(this._activeIndex||(this._activeIndex=[]),i.id==e.id&&(i.selected=!i.selected,this._activeIndex.includes(n)?this._activeIndex=this._activeIndex.filter(m=>m!==n):this._activeIndex.push(n))):i.id==e.id?(i.selected=!i.selected,this._activeIndex=n):i.selected=!1,i.selectedChange.emit(c),this.activeIndexChange.emit(this._activeIndex),i.cd.markForCheck()}))}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling,c=K(n,'[data-pc-section="accordionheader"]');return c?Z(c,"data-p-disabled")?this.findNextHeaderAction(c.parentElement):K(c.parentElement,'[data-pc-section="accordionheader"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling,c=K(n,'[data-pc-section="accordionheader"]');return c?Z(c,"data-p-disabled")?this.findPrevHeaderAction(c.parentElement):K(c.parentElement,'[data-pc-section="accordionheader"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.lastElementChild;return this.findPrevHeaderAction(e,!0)}onTabEndKey(e){let i=this.findLastHeaderAction();this.changeFocusedTab(i),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.cd.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let i=this.multiple()?this._activeIndex.includes(e):e===this._activeIndex;i!==this.tabs[e].selected&&(this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i),this.tabs[e].cd.markForCheck())}}isTabActive(e){return this.multiple()?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,i){return e.props?e.props[i]:void 0}updateActiveIndex(){let e=this.multiple()?[]:null;this.tabs.forEach((i,n)=>{if(i.selected)if(this.multiple())e.push(n);else{e=n;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}updateValue(e){let i=this.value();if(this.multiple()){let n=Array.isArray(i)?[...i]:[],c=n.indexOf(e);c!==-1?n.splice(c,1):n.push(e),this.value.set(n)}else i===e?this.value.set(void 0):this.value.set(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=P({type:t,selectors:[["p-accordion"]],contentQueries:function(i,n,c){if(i&1&&w(c,vt,5),i&2){let m;E(m=A())&&(n.tabList=m)}},hostVars:8,hostBindings:function(i,n){i&1&&f("keydown",function(m){return n.onKeydown(m)}),i&2&&(he(n.hostStyle),N(n.hostClass),R("p-accordion",!0)("p-component",!0))},inputs:{value:[1,"value"],multiple:[1,"multiple"],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",selectOnFocus:[1,"selectOnFocus"],transitionOptions:"transitionOptions",activeIndex:"activeIndex",headerAriaLevel:"headerAriaLevel"},outputs:{value:"valueChange",activeIndexChange:"activeIndexChange",onClose:"onClose",onOpen:"onOpen"},features:[fe([le]),O],ngContentSelectors:de,decls:1,vars:0,template:function(i,n){i&1&&(B(),H(0))},dependencies:[V,re],encapsulation:2,changeDetection:0})}return t})(),Ct=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ee({type:t});static \u0275inj=Ie({imports:[ee,vt,re,ke,an,cn,re]})}return t})();var pe=class t{http=g(Oe);apiUrl=nt.apiUrl;createPhaseForm(o){return this.http.post(`${this.apiUrl}ProjectPhase`,o)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};function sn(t,o){if(t&1&&(a(0,"option",28),l(1),r()),t&2){let e=o.$implicit;d("value",e.value),s(),b(e.label)}}function ln(t,o){if(t&1&&(a(0,"option",28),l(1),r()),t&2){let e=o.$implicit;d("value",e.value),s(),b(e.label)}}function dn(t,o){if(t&1&&(a(0,"div",29),l(1),r()),t&2){let e=p(2);s(),x(" ",e.projectFormErrorMessage," ")}}function pn(t,o){if(t&1){let e=k();a(0,"div")(1,"div",6)(2,"div",7)(3,"h4"),l(4,"Project Details"),r()(),a(5,"div",8)(6,"div",9)(7,"label",10),l(8,"Project Name"),r(),a(9,"input",11),S("ngModelChange",function(n){h(e);let c=p();return j(c.completeProject.name,n)||(c.completeProject.name=n),_(n)}),r()(),a(10,"div",9)(11,"label",12),l(12,"Description"),r(),a(13,"textarea",13),S("ngModelChange",function(n){h(e);let c=p();return j(c.completeProject.description,n)||(c.completeProject.description=n),_(n)}),r()(),a(14,"div",14)(15,"div",15)(16,"label",16),l(17,"Start Date"),r(),a(18,"input",17),f("change",function(n){h(e);let c=p();return _(c.updateProjectStartDate(n))}),r()(),a(19,"div",15)(20,"label",18),l(21,"End Date"),r(),a(22,"input",19),f("change",function(n){h(e);let c=p();return _(c.updateProjectEndDate(n))}),r()()(),a(23,"div",14)(24,"div",15)(25,"label",20),l(26,"Status"),r(),a(27,"select",21),S("ngModelChange",function(n){h(e);let c=p();return j(c.completeProject.status,n)||(c.completeProject.status=n),_(n)}),u(28,sn,2,2,"option",22),r()(),a(29,"div",15)(30,"label",23),l(31,"Type"),r(),a(32,"select",24),S("ngModelChange",function(n){h(e);let c=p();return j(c.completeProject.type,n)||(c.completeProject.type=n),_(n)}),u(33,ln,2,2,"option",22),r()()(),u(34,dn,2,1,"div",4),a(35,"div",25)(36,"button",26),f("click",function(){h(e);let n=p();return _(n.resetForm())}),l(37,"Cancel"),r(),a(38,"button",27),f("click",function(){h(e);let n=p();return _(n.startPhaseForm())}),l(39,"Next: Phases"),r()()()()()}if(t&2){let e=p();s(9),T("ngModel",e.completeProject.name),s(4),T("ngModel",e.completeProject.description),s(5),d("value",e.formatDateForInput(e.completeProject.startDate)),s(4),d("value",e.formatDateForInput(e.completeProject.endDate)),s(5),T("ngModel",e.completeProject.status),s(),d("ngForOf",e.status),s(4),T("ngModel",e.completeProject.type),s(),d("ngForOf",e.type),s(),d("ngIf",e.projectFormInvalid)}}function mn(t,o){if(t&1&&(a(0,"option",35),l(1),r()),t&2){let e=o.$implicit;d("ngValue",e),s(),x(" ",e.name," ")}}function un(t,o){if(t&1){let e=k();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td")(6,"input",40),f("change",function(n){let c=h(e).$implicit,m=p(3);return _(m.updatePhaseStartDate(c,n))}),r()(),a(7,"td")(8,"input",40),f("change",function(n){let c=h(e).$implicit,m=p(3);return _(m.updatePhaseEndDate(c,n))}),r()()()}if(t&2){let e=o.$implicit,i=p(3);s(2),b(e.order),s(2),b(e.name),s(2),d("value",i.formatDateForInput(e.startDate)),s(2),d("value",i.formatDateForInput(e.endDate))}}function hn(t,o){if(t&1&&(a(0,"div",36)(1,"h5"),l(2,"Selected Phases:"),r(),a(3,"div",37)(4,"table",38)(5,"thead")(6,"tr")(7,"th"),l(8,"Order"),r(),a(9,"th"),l(10,"Name"),r(),a(11,"th"),l(12,"Start Date"),r(),a(13,"th"),l(14,"End Date"),r()()(),a(15,"tbody"),u(16,un,9,4,"tr",39),r()()()()),t&2){let e=p(2);s(16),d("ngForOf",e.phases)}}function _n(t,o){if(t&1){let e=k();a(0,"div")(1,"div",6)(2,"div",7)(3,"h4"),l(4,"Select Project Phases"),r()(),a(5,"div",8)(6,"div",9)(7,"label"),l(8,"Available Phases"),r(),a(9,"select",30),S("ngModelChange",function(n){h(e);let c=p();return j(c.selectedPhases,n)||(c.selectedPhases=n),_(n)}),f("ngModelChange",function(n){h(e);let c=p();return _(c.onPhaseSelectionChange(n))}),u(10,mn,2,2,"option",31),r(),a(11,"small",32),l(12,"Hold Ctrl/Cmd to select multiple phases"),r()(),u(13,hn,17,1,"div",33),a(14,"div",25)(15,"button",26),f("click",function(){h(e);let n=p();return n.start=!0,_(n.startPhase=!1)}),l(16,"Back"),r(),a(17,"button",34),f("click",function(){h(e);let n=p();return _(n.startTaskForm())}),l(18,"Next: Tasks"),r()()()()()}if(t&2){let e=p();s(9),T("ngModel",e.selectedPhases),s(),d("ngForOf",e.phaseRepoService.allPhases()),s(3),d("ngIf",e.phases.length>0),s(4),d("disabled",e.phases.length===0)}}function fn(t,o){if(t&1&&(a(0,"option",35),l(1),r()),t&2){let e=o.$implicit;d("ngValue",e),s(),x(" ",e.name," ")}}function gn(t,o){if(t&1&&(a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r()()),t&2){let e=o.$implicit,i=p(5);s(2),b(e.name),s(2),b(i.formatDate(e.startDate)),s(2),b(i.formatDate(e.endDate))}}function vn(t,o){if(t&1&&(a(0,"div",37)(1,"table",44)(2,"thead")(3,"tr")(4,"th"),l(5,"Name"),r(),a(6,"th"),l(7,"Start Date"),r(),a(8,"th"),l(9,"End Date"),r()()(),a(10,"tbody"),u(11,gn,7,3,"tr",39),r()()()),t&2){let e=p().$implicit;s(11),d("ngForOf",e.tasks)}}function Cn(t,o){if(t&1&&(a(0,"div",42)(1,"h6"),l(2),r(),u(3,vn,12,1,"div",43),r()),t&2){let e=o.$implicit;s(2),Me("Phase: ",e.name," (",e.tasks.length," tasks)"),s(),d("ngIf",e.tasks.length>0)}}function bn(t,o){if(t&1&&(a(0,"div",36)(1,"h5"),l(2),r(),u(3,Cn,4,3,"div",41),r()),t&2){let e=p(2);s(2),x("Selected Tasks (",e.totalTasksSelected," total):"),s(),d("ngForOf",e.phases)}}function xn(t,o){if(t&1){let e=k();a(0,"div")(1,"div",6)(2,"div",7)(3,"h4"),l(4,"Select Tasks"),r()(),a(5,"div",8)(6,"div",9)(7,"label"),l(8,"Task Types"),r(),a(9,"select",30),S("ngModelChange",function(n){h(e);let c=p();return j(c.selectedTaskTypes,n)||(c.selectedTaskTypes=n),_(n)}),f("ngModelChange",function(n){h(e);let c=p();return _(c.onTaskTypeSelectionChange(n))}),u(10,fn,2,2,"option",31),r(),a(11,"small",32),l(12,"Hold Ctrl/Cmd to select multiple task types"),r()(),u(13,bn,4,2,"div",33),a(14,"div",25)(15,"button",26),f("click",function(){h(e);let n=p();return n.startPhase=!0,_(n.startTask=!1)}),l(16,"Back"),r(),a(17,"button",34),f("click",function(){h(e);let n=p();return _(n.startResourceForm())}),l(18,"Next: Resources"),r()()()()()}if(t&2){let e=p();s(9),T("ngModel",e.selectedTaskTypes),s(),d("ngForOf",e.taskTypeRepoService.allTaskTypes()),s(3),d("ngIf",e.totalTasksSelected>0),s(4),d("disabled",e.totalTasksSelected===0)}}function yn(t,o){if(t&1&&(a(0,"option",35),l(1),r()),t&2){let e=o.$implicit;d("ngValue",e.id),s(),x(" ",e.name," ")}}function Pn(t,o){if(t&1&&(a(0,"option",35),l(1),r()),t&2){let e=o.$implicit;d("ngValue",e.id),s(),x(" ",e.name," ")}}function Tn(t,o){if(t&1){let e=k();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td")(6,"button",51),f("click",function(){let n=h(e).index,c=p(3);return _(c.removeResource(n))}),l(7,"Remove"),r()()()}if(t&2){let e=o.$implicit,i=p(3);s(2),b(e.name),s(2),b(i.getUserName(e.userId))}}function jn(t,o){if(t&1&&(a(0,"div",36)(1,"h5"),l(2,"Selected Resources:"),r(),a(3,"table",50)(4,"thead")(5,"tr")(6,"th"),l(7,"Name"),r(),a(8,"th"),l(9,"User"),r(),a(10,"th"),l(11,"Action"),r()()(),a(12,"tbody"),u(13,Tn,8,2,"tr",39),r()()()),t&2){let e=p(2);s(13),d("ngForOf",e.completeProject.resources)}}function Sn(t,o){if(t&1){let e=k();a(0,"div")(1,"div",6)(2,"div",7)(3,"h4"),l(4,"Add Resources"),r()(),a(5,"div",8)(6,"div",45)(7,"div",46)(8,"label"),l(9,"Resource Type"),r(),a(10,"select",47),S("ngModelChange",function(n){h(e);let c=p();return j(c.selectedResourceId,n)||(c.selectedResourceId=n),_(n)}),a(11,"option",35),l(12,"Select a resource..."),r(),u(13,yn,2,2,"option",31),r()(),a(14,"div",46)(15,"label"),l(16,"Assign To User"),r(),a(17,"select",47),S("ngModelChange",function(n){h(e);let c=p();return j(c.selectedUserId,n)||(c.selectedUserId=n),_(n)}),a(18,"option",35),l(19,"Select a user..."),r(),u(20,Pn,2,2,"option",31),r()(),a(21,"div",48)(22,"button",49),f("click",function(){h(e);let n=p();return _(n.addResource())}),l(23,"Add"),r()()(),u(24,jn,14,1,"div",33),a(25,"div",25)(26,"button",26),f("click",function(){h(e);let n=p();return n.startTask=!0,_(n.startResource=!1)}),l(27,"Back"),r(),a(28,"button",27),f("click",function(){h(e);let n=p();return _(n.startNotebookForm())}),l(29,"Next: Notebooks"),r()()()()()}if(t&2){let e=p();s(10),T("ngModel",e.selectedResourceId),s(),d("ngValue",null),s(2),d("ngForOf",e.allResources),s(4),T("ngModel",e.selectedUserId),s(),d("ngValue",null),s(2),d("ngForOf",e.allUsers),s(2),d("disabled",!e.selectedResourceId||!e.selectedUserId),s(2),d("ngIf",e.completeProject.resources.length>0)}}function Dn(t,o){if(t&1&&(a(0,"option",35),l(1),r()),t&2){let e=o.$implicit;d("ngValue",e),s(),x(" ",e.name," ")}}function kn(t,o){if(t&1&&(a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r()()),t&2){let e=o.$implicit;s(2),b(e.name),s(2),b(e.description)}}function In(t,o){if(t&1&&(a(0,"div",36)(1,"h5"),l(2,"Selected Notebooks:"),r(),a(3,"div",37)(4,"table",50)(5,"thead")(6,"tr")(7,"th"),l(8,"Name"),r(),a(9,"th"),l(10,"Description"),r()()(),a(11,"tbody"),u(12,kn,5,2,"tr",39),r()()()()),t&2){let e=p(2);s(12),d("ngForOf",e.completeProject.notebooks)}}function wn(t,o){if(t&1){let e=k();a(0,"div")(1,"div",6)(2,"div",7)(3,"h4"),l(4,"Select Notebooks"),r()(),a(5,"div",8)(6,"div",9)(7,"label"),l(8,"Available Notebooks"),r(),a(9,"select",30),S("ngModelChange",function(n){h(e);let c=p();return j(c.selectedNotebooks,n)||(c.selectedNotebooks=n),_(n)}),f("ngModelChange",function(n){h(e);let c=p();return _(c.onNotebookSelectionChange(n))}),u(10,Dn,2,2,"option",31),r(),a(11,"small",32),l(12,"Hold Ctrl/Cmd to select multiple notebooks"),r()(),u(13,In,13,1,"div",33),a(14,"div",25)(15,"button",26),f("click",function(){h(e);let n=p();return n.startResource=!0,_(n.startNotebook=!1)}),l(16,"Back"),r(),a(17,"button",27),f("click",function(){h(e);let n=p();return _(n.submitFinalProject())}),l(18,"Create Project"),r()()()()()}if(t&2){let e=p();s(9),T("ngModel",e.selectedNotebooks),s(),d("ngForOf",e.notebookRepoService.allNotebooks()),s(3),d("ngIf",e.completeProject.notebooks.length>0)}}function En(t,o){t&1&&(a(0,"div",52)(1,"div",53)(2,"span",54),l(3,"Loading..."),r()(),l(4," Creating project, please wait... "),r())}function An(t,o){t&1&&(a(0,"div",55),l(1," Project created successfully! Redirecting to project list... "),r())}function Vn(t,o){if(t&1&&(a(0,"div",29)(1,"strong"),l(2,"Error:"),r(),l(3),r()),t&2){let e=p();s(3),x(" ",e.errorMessage," ")}}function Fn(t,o){if(t&1){let e=k();a(0,"div",56)(1,"h4"),l(2,"Ready to create a new project?"),r(),a(3,"button",57),f("click",function(){h(e);let n=p();return _(n.startProjectForm())}),l(4,"Start Project Creation"),r()()}}var me=class t{projectService=g(ot);phaseService=g(pe);phaseRepoService=g(at);taskTypeRepoService=g(ht);taskRepoService=g(pt);taskCategoryRepoService=g(dt);notebookRepoService=g(_t);resourceRepoService=g(mt);userService=g(it);router=g($e);completeProject={name:"",description:"",startDate:new Date,endDate:new Date,status:0,type:0,notebooks:[],resources:[],phases:[]};project={};createdProject=null;phases=[];selectedPhases=[];selectedTaskTypes=[];tasksToAdd={};totalTasksSelected=0;selectedNotebooks=[];selectedResources=[];allResources=[];allUsers=[];selectedResourceId=null;selectedUserId=null;start=!1;startPhase=!1;startTask=!1;startResource=!1;startNotebook=!1;submitting=!1;submitSuccess=!1;submitError=!1;errorMessage="";projectFormInvalid=!1;projectFormErrorMessage="";status=[];type=[];constructor(){this.status=Object.keys(Se).filter(o=>!isNaN(Number(o))).map(o=>({label:Se[Number(o)],value:Number(o)})),this.type=Object.keys(De).filter(o=>!isNaN(Number(o))).map(o=>({label:De[Number(o)],value:Number(o)}))}ngOnInit(){this.loadResourcesAndUsers()}loadResourcesAndUsers(){this.resourceRepoService.getAllResourcesResource.reload(),setTimeout(()=>{this.allResources=this.resourceRepoService.allResources(),this.allUsers=this.userService.allUsers(),console.log("Resources loaded:",this.allResources),console.log("Users loaded:",this.allUsers)},500)}startProjectForm(){this.start=!0,this.projectFormInvalid=!1,this.projectFormErrorMessage=""}startPhaseForm(){if(!this.completeProject.name||!this.completeProject.description||!this.completeProject.startDate||!this.completeProject.endDate||this.completeProject.status===void 0||this.completeProject.type===void 0){this.projectFormInvalid=!0,this.projectFormErrorMessage="Please fill in all required project information.";return}this.projectFormInvalid=!1,this.projectFormErrorMessage="",this.project={name:this.completeProject.name,description:this.completeProject.description,startDate:new Date(this.completeProject.startDate),endDate:new Date(this.completeProject.endDate),status:this.completeProject.status,type:this.completeProject.type},this.startPhase=!0,this.phases=[],this.selectedPhases=[]}startTaskForm(){this.tasksToAdd={},this.phases.forEach(o=>{this.tasksToAdd[o.order]=o.tasks||[]}),this.startPhase=!1,this.startTask=!0}startResourceForm(){this.startPhase=!1,this.startTask=!1,this.startNotebook=!1,this.startResource=!0,this.loadResourcesAndUsers()}startNotebookForm(){this.startPhase=!1,this.startTask=!1,this.startResource=!1,this.startNotebook=!0}submitFinalProject(){this.submitting=!0,this.submitSuccess=!1,this.submitError=!1,this.errorMessage="";let o=ne(te({},this.completeProject),{startDate:this.formatDateForApi(this.completeProject.startDate),endDate:this.formatDateForApi(this.completeProject.endDate),phases:this.phases.map(e=>ne(te({},e),{startDate:this.formatDateForApi(e.startDate),endDate:this.formatDateForApi(e.endDate),tasks:e.tasks.map(i=>ne(te({},i),{startDate:this.formatDateForApi(i.startDate),endDate:this.formatDateForApi(i.endDate)}))}))});console.log("FINAL PROJECT TO SUBMIT:",JSON.stringify(o,null,2)),this.projectService.createCompleteProject(o).subscribe({next:e=>{console.log("Project created successfully:",e),this.submitting=!1,this.submitSuccess=!0,this.createdProject=e,setTimeout(()=>{this.resetForm(),this.router.navigate(["/projects/manage"])},2e3)},error:e=>{console.error("Error creating project:",e),this.submitting=!1,this.submitError=!0,this.errorMessage=e.message||"An error occurred while creating the project. Please try again."}})}resetForm(){this.start=!1,this.startPhase=!1,this.startTask=!1,this.startResource=!1,this.startNotebook=!1,this.submitting=!1,this.submitSuccess=!1,this.submitError=!1,this.errorMessage="",this.projectFormInvalid=!1,this.projectFormErrorMessage="",this.completeProject={name:"",description:"",startDate:new Date,endDate:new Date,status:0,type:0,notebooks:[],resources:[],phases:[]},this.project={},this.createdProject=null,this.phases=[],this.selectedPhases=[],this.selectedTaskTypes=[],this.tasksToAdd={},this.totalTasksSelected=0,this.selectedNotebooks=[],this.selectedResources=[],this.selectedResourceId=null,this.selectedUserId=null}formatDate(o){return o?new Date(o).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"}):""}formatDateForInput(o){return o?new Date(o).toISOString().split("T")[0]:""}formatDateForApi(o){if(!o)return"";let e=new Date(o);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}updateProjectStartDate(o){let e=o.target;e.valueAsDate&&(this.completeProject.startDate=new Date(e.valueAsDate),this.onProjectStartDateChange())}updateProjectEndDate(o){let e=o.target;e.valueAsDate&&(this.completeProject.endDate=new Date(e.valueAsDate))}onProjectStartDateChange(){this.selectedPhases&&this.selectedPhases.length>0&&this.onPhaseSelectionChange(this.selectedPhases)}updatePhaseStartDate(o,e){let i=e.target;i.valueAsDate&&(o.startDate=new Date(i.valueAsDate))}updatePhaseEndDate(o,e){let i=e.target;i.valueAsDate&&(o.endDate=new Date(i.valueAsDate))}onPhaseSelectionChange(o){!o||!this.completeProject.startDate||(this.phases=[],o.forEach((e,i)=>{let n=this.calculatePhaseStartDate(i),c=this.calculatePhaseEndDate(n);this.phases.push({name:e.name,description:e.description,order:e.order,startDate:n,endDate:c,status:0,taskCategories:[],tasks:[]})}),this.completeProject.phases=this.phases)}onTaskTypeSelectionChange(o){this.selectedTaskTypes=o,this.updateTasksBasedOnTypes()}updateTasksBasedOnTypes(){if(this.totalTasksSelected=0,this.phases.forEach(m=>{m.tasks=[]}),!this.selectedTaskTypes||this.selectedTaskTypes.length===0)return;let o=this.taskRepoService.allTasks(),e=this.selectedTaskTypes.map(m=>m.id),i=new Map;this.phases.forEach(m=>{i.set(m.order,m)});let n=this.phases.length>0?this.phases[0]:null,c=new Map;this.phases.forEach(m=>{c.set(m.order,new Set)}),o.forEach(m=>{if(e.includes(m.taskTypeRepoId)){let C=i.get(m.phaseOrder);if(!C&&n&&(C=n),C){let Q={name:m.name,description:m.description,startDate:new Date(C.startDate),endDate:new Date(C.endDate),status:0,hasSubTasks:m.hasSubTaskRepo,projectTaskTypeId:m.taskTypeRepoId,projectTaskCategoryId:m.categoryRepoId||0,subTasks:[],resourceIds:[]};C.tasks.push(Q),this.totalTasksSelected++,m.categoryRepoId&&c.get(C.order)?.add(m.categoryRepoId)}}}),this.processCategoriesForPhases(c),this.phases.forEach(m=>{this.tasksToAdd[m.order]=m.tasks})}processCategoriesForPhases(o){o.forEach((e,i)=>{let n=this.phases.find(m=>m.order===i);if(!n)return;n.taskCategories=[];let c=this.taskCategoryRepoService.allCategories();e.forEach(m=>{let C=c.find(Q=>Q.id===m);if(C){let Q={id:m,name:C.name,description:C.description,projectId:0};n.taskCategories.push(Q)}}),console.log(`Phase ${i} has ${n.taskCategories.length} categories`)})}onNotebookSelectionChange(o){this.completeProject.notebooks=[],o.forEach(e=>{let i={name:e.name,description:e.description,content:e.content,projectId:0};this.completeProject.notebooks.push(i)}),console.log(`Selected ${this.completeProject.notebooks.length} notebooks`)}addResource(){if(!this.selectedResourceId||!this.selectedUserId)return;let o=this.allResources.find(c=>c.id===this.selectedResourceId),e=this.allUsers.find(c=>c.id===this.selectedUserId);if(!o||!e||this.completeProject.resources.some(c=>String(c.userId)===this.selectedUserId))return;let n={name:o.name,description:`Resource assigned to ${e.name}`,projectId:0,userId:this.selectedUserId};this.completeProject.resources.push(n),this.selectedResourceId=null,this.selectedUserId=null}removeResource(o){this.completeProject.resources.splice(o,1)}getUserName(o){let e=this.allUsers.find(i=>i.id===o);return e?e.name:"Unknown User"}calculatePhaseStartDate(o){let e=new Date(this.completeProject.startDate),i=e.getFullYear(),n=e.getMonth(),c=e.getDate();if(o===0)return new Date(i,n,c);{let m=new Date(this.phases[o-1].endDate),C=new Date(m);return C.setDate(m.getDate()+((8-m.getDay())%7||7)),C}}calculatePhaseEndDate(o){let e=new Date(o);if(o.getDay()===1)e.setDate(o.getDate()+4);else{let i=(5-o.getDay()+7)%7;e.setDate(o.getDate()+i)}return e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=P({type:t,selectors:[["app-create-projects-v2"]],decls:12,vars:9,consts:[[1,"container","my-4","px-4"],[4,"ngIf"],["class","alert alert-info text-center",4,"ngIf"],["class","alert alert-success text-center",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","text-center my-5",4,"ngIf"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"form-group","mb-3"],["for","projectName"],["type","text","id","projectName","placeholder","Enter project name",1,"form-control",3,"ngModelChange","ngModel"],["for","projectDescription"],["id","projectDescription","rows","3","placeholder","Enter project description",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","mb-3"],["for","projectStartDate"],["type","date","id","projectStartDate",1,"form-control",3,"change","value"],["for","projectEndDate"],["type","date","id","projectEndDate",1,"form-control",3,"change","value"],["for","projectStatus"],["id","projectStatus",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","projectType"],["id","projectType",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"value"],[1,"alert","alert-danger"],["multiple","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[3,"ngValue"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"change","value"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],["class","table-responsive",4,"ngIf"],[1,"table","table-sm"],[1,"row","mb-3"],[1,"col-md-5"],[1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2","d-flex","align-items-end"],[1,"btn","btn-primary","mb-2",3,"click","disabled"],[1,"table"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"alert","alert-info","text-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"],[1,"alert","alert-success","text-center"],[1,"text-center","my-5"],[1,"btn","btn-lg","btn-primary","mt-3",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Create New Project"),r(),u(3,pn,40,9,"div",1)(4,_n,19,4,"div",1)(5,xn,19,4,"div",1)(6,Sn,30,8,"div",1)(7,wn,19,3,"div",1)(8,En,5,0,"div",2)(9,An,2,0,"div",3)(10,Vn,4,1,"div",4)(11,Fn,5,0,"div",5),r()),e&2&&(s(3),d("ngIf",i.start),s(),d("ngIf",i.startPhase),s(),d("ngIf",i.startTask),s(),d("ngIf",i.startResource),s(),d("ngIf",i.startNotebook),s(),d("ngIf",i.submitting),s(),d("ngIf",i.submitSuccess),s(),d("ngIf",i.submitError),s(),d("ngIf",!i.start))},dependencies:[rt,et,V,Ne,z,Ge,ze,Ye,Ke,qe,Je,We,Qe,Xe,tt,lt,ct,ut,Ct,st],encapsulation:2})};var Ui=[{path:"manage",component:ce,data:{breadcrumb:"Manage Projects"}},{path:"create",component:me,data:{breadcrumb:"Create Project"}},{path:"**",redirectTo:"/notfound"}];export{Ui as default};
